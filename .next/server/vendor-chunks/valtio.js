"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/valtio";
exports.ids = ["vendor-chunks/valtio"];
exports.modules = {

/***/ "(ssr)/./node_modules/valtio/esm/react.mjs":
/*!*******************************************!*\
  !*** ./node_modules/valtio/esm/react.mjs ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSnapshot: () => (/* binding */ useSnapshot)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var proxy_compare__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! proxy-compare */ \"(ssr)/./node_modules/proxy-compare/dist/index.modern.js\");\n/* harmony import */ var use_sync_external_store_shim_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! use-sync-external-store/shim/index.js */ \"(ssr)/./node_modules/use-sync-external-store/shim/index.js\");\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/valtio/esm/vanilla.mjs\");\n\n\n\n\nconst { use } = react__WEBPACK_IMPORTED_MODULE_0__;\nconst { useSyncExternalStore } = use_sync_external_store_shim_index_js__WEBPACK_IMPORTED_MODULE_1__;\nconst useAffectedDebugValue = (state, affected)=>{\n    const pathList = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        pathList.current = (0,proxy_compare__WEBPACK_IMPORTED_MODULE_2__.affectedToPathList)(state, affected, true);\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue)(pathList.current);\n};\nconst targetCache = /* @__PURE__ */ new WeakMap();\nfunction useSnapshot(proxyObject, options) {\n    const notifyInSync = options == null ? void 0 : options.sync;\n    const lastSnapshot = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    const lastAffected = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    let inRender = true;\n    const currSnapshot = useSyncExternalStore((0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((callback)=>{\n        const unsub = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_3__.subscribe)(proxyObject, callback, notifyInSync);\n        callback();\n        return unsub;\n    }, [\n        proxyObject,\n        notifyInSync\n    ]), ()=>{\n        const nextSnapshot = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_3__.snapshot)(proxyObject, use);\n        try {\n            if (!inRender && lastSnapshot.current && lastAffected.current && !(0,proxy_compare__WEBPACK_IMPORTED_MODULE_2__.isChanged)(lastSnapshot.current, nextSnapshot, lastAffected.current, /* @__PURE__ */ new WeakMap())) {\n                return lastSnapshot.current;\n            }\n        } catch (e) {}\n        return nextSnapshot;\n    }, ()=>(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_3__.snapshot)(proxyObject, use));\n    inRender = false;\n    const currAffected = /* @__PURE__ */ new WeakMap();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        lastSnapshot.current = currSnapshot;\n        lastAffected.current = currAffected;\n    });\n    if (( false ? 0 : void 0) !== \"production\") {\n        useAffectedDebugValue(currSnapshot, currAffected);\n    }\n    const proxyCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>/* @__PURE__ */ new WeakMap(), []);\n    return (0,proxy_compare__WEBPACK_IMPORTED_MODULE_2__.createProxy)(currSnapshot, currAffected, proxyCache, targetCache);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdmFsdGlvL2VzbS9yZWFjdC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNkY7QUFDbEI7QUFDSztBQUMzQjtBQUVyRCxNQUFNLEVBQUVZLEdBQUcsRUFBRSxHQUFHWixrQ0FBWUE7QUFDNUIsTUFBTSxFQUFFYSxvQkFBb0IsRUFBRSxHQUFHSixrRUFBMkJBO0FBQzVELE1BQU1LLHdCQUF3QixDQUFDQyxPQUFPQztJQUNwQyxNQUFNQyxXQUFXaEIsNkNBQU1BO0lBQ3ZCRSxnREFBU0EsQ0FBQztRQUNSYyxTQUFTQyxPQUFPLEdBQUdWLGlFQUFrQkEsQ0FBQ08sT0FBT0MsVUFBVTtJQUN6RDtJQUNBWCxvREFBYUEsQ0FBQ1ksU0FBU0MsT0FBTztBQUNoQztBQUNBLE1BQU1DLGNBQWMsYUFBYSxHQUFHLElBQUlDO0FBQ3hDLFNBQVNDLFlBQVlDLFdBQVcsRUFBRUMsT0FBTztJQUN2QyxNQUFNQyxlQUFlRCxXQUFXLE9BQU8sS0FBSyxJQUFJQSxRQUFRRSxJQUFJO0lBQzVELE1BQU1DLGVBQWV6Qiw2Q0FBTUE7SUFDM0IsTUFBTTBCLGVBQWUxQiw2Q0FBTUE7SUFDM0IsSUFBSTJCLFdBQVc7SUFDZixNQUFNQyxlQUFlaEIscUJBQ25CWCxrREFBV0EsQ0FDVCxDQUFDNEI7UUFDQyxNQUFNQyxRQUFRckIseURBQVNBLENBQUNZLGFBQWFRLFVBQVVOO1FBQy9DTTtRQUNBLE9BQU9DO0lBQ1QsR0FDQTtRQUFDVDtRQUFhRTtLQUFhLEdBRTdCO1FBQ0UsTUFBTVEsZUFBZXJCLHdEQUFRQSxDQUFDVyxhQUFhVjtRQUMzQyxJQUFJO1lBQ0YsSUFBSSxDQUFDZ0IsWUFBWUYsYUFBYVIsT0FBTyxJQUFJUyxhQUFhVCxPQUFPLElBQUksQ0FBQ1osd0RBQVNBLENBQ3pFb0IsYUFBYVIsT0FBTyxFQUNwQmMsY0FDQUwsYUFBYVQsT0FBTyxFQUNwQixhQUFhLEdBQUcsSUFBSUUsWUFDbkI7Z0JBQ0QsT0FBT00sYUFBYVIsT0FBTztZQUM3QjtRQUNGLEVBQUUsT0FBT2UsR0FBRyxDQUNaO1FBQ0EsT0FBT0Q7SUFDVCxHQUNBLElBQU1yQix3REFBUUEsQ0FBQ1csYUFBYVY7SUFFOUJnQixXQUFXO0lBQ1gsTUFBTU0sZUFBZSxhQUFhLEdBQUcsSUFBSWQ7SUFDekNqQixnREFBU0EsQ0FBQztRQUNSdUIsYUFBYVIsT0FBTyxHQUFHVztRQUN2QkYsYUFBYVQsT0FBTyxHQUFHZ0I7SUFDekI7SUFDQSxJQUFJLENBQUMsTUFBZSxHQUFHLENBQW9CLEdBQUcsS0FBSyxPQUFPLGNBQWM7UUFDdEVwQixzQkFBc0JlLGNBQWNLO0lBQ3RDO0lBQ0EsTUFBTUcsYUFBYWpDLDhDQUFPQSxDQUFDLElBQU0sYUFBYSxHQUFHLElBQUlnQixXQUFXLEVBQUU7SUFDbEUsT0FBT2IsMERBQVdBLENBQ2hCc0IsY0FDQUssY0FDQUcsWUFDQWxCO0FBRUo7QUFFdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LXN0YXJ0ZXIta2l0Ly4vbm9kZV9tb2R1bGVzL3ZhbHRpby9lc20vcmVhY3QubWpzPzM5MmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0RXhwb3J0cywgeyB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZURlYnVnVmFsdWUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc0NoYW5nZWQsIGNyZWF0ZVByb3h5LCBhZmZlY3RlZFRvUGF0aExpc3QgfSBmcm9tICdwcm94eS1jb21wYXJlJztcbmltcG9ydCB1c2VTeW5jRXh0ZXJuYWxTdG9yZUV4cG9ydHMgZnJvbSAndXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvc2hpbS9pbmRleC5qcyc7XG5pbXBvcnQgeyBzdWJzY3JpYmUsIHNuYXBzaG90IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuXG5jb25zdCB7IHVzZSB9ID0gUmVhY3RFeHBvcnRzO1xuY29uc3QgeyB1c2VTeW5jRXh0ZXJuYWxTdG9yZSB9ID0gdXNlU3luY0V4dGVybmFsU3RvcmVFeHBvcnRzO1xuY29uc3QgdXNlQWZmZWN0ZWREZWJ1Z1ZhbHVlID0gKHN0YXRlLCBhZmZlY3RlZCkgPT4ge1xuICBjb25zdCBwYXRoTGlzdCA9IHVzZVJlZigpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHBhdGhMaXN0LmN1cnJlbnQgPSBhZmZlY3RlZFRvUGF0aExpc3Qoc3RhdGUsIGFmZmVjdGVkLCB0cnVlKTtcbiAgfSk7XG4gIHVzZURlYnVnVmFsdWUocGF0aExpc3QuY3VycmVudCk7XG59O1xuY29uc3QgdGFyZ2V0Q2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHVzZVNuYXBzaG90KHByb3h5T2JqZWN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IG5vdGlmeUluU3luYyA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuc3luYztcbiAgY29uc3QgbGFzdFNuYXBzaG90ID0gdXNlUmVmKCk7XG4gIGNvbnN0IGxhc3RBZmZlY3RlZCA9IHVzZVJlZigpO1xuICBsZXQgaW5SZW5kZXIgPSB0cnVlO1xuICBjb25zdCBjdXJyU25hcHNob3QgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICB1c2VDYWxsYmFjayhcbiAgICAgIChjYWxsYmFjaykgPT4ge1xuICAgICAgICBjb25zdCB1bnN1YiA9IHN1YnNjcmliZShwcm94eU9iamVjdCwgY2FsbGJhY2ssIG5vdGlmeUluU3luYyk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIHJldHVybiB1bnN1YjtcbiAgICAgIH0sXG4gICAgICBbcHJveHlPYmplY3QsIG5vdGlmeUluU3luY11cbiAgICApLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IG5leHRTbmFwc2hvdCA9IHNuYXBzaG90KHByb3h5T2JqZWN0LCB1c2UpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFpblJlbmRlciAmJiBsYXN0U25hcHNob3QuY3VycmVudCAmJiBsYXN0QWZmZWN0ZWQuY3VycmVudCAmJiAhaXNDaGFuZ2VkKFxuICAgICAgICAgIGxhc3RTbmFwc2hvdC5jdXJyZW50LFxuICAgICAgICAgIG5leHRTbmFwc2hvdCxcbiAgICAgICAgICBsYXN0QWZmZWN0ZWQuY3VycmVudCxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKVxuICAgICAgICApKSB7XG4gICAgICAgICAgcmV0dXJuIGxhc3RTbmFwc2hvdC5jdXJyZW50O1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dFNuYXBzaG90O1xuICAgIH0sXG4gICAgKCkgPT4gc25hcHNob3QocHJveHlPYmplY3QsIHVzZSlcbiAgKTtcbiAgaW5SZW5kZXIgPSBmYWxzZTtcbiAgY29uc3QgY3VyckFmZmVjdGVkID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGFzdFNuYXBzaG90LmN1cnJlbnQgPSBjdXJyU25hcHNob3Q7XG4gICAgbGFzdEFmZmVjdGVkLmN1cnJlbnQgPSBjdXJyQWZmZWN0ZWQ7XG4gIH0pO1xuICBpZiAoKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICB1c2VBZmZlY3RlZERlYnVnVmFsdWUoY3VyclNuYXBzaG90LCBjdXJyQWZmZWN0ZWQpO1xuICB9XG4gIGNvbnN0IHByb3h5Q2FjaGUgPSB1c2VNZW1vKCgpID0+IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBbXSk7XG4gIHJldHVybiBjcmVhdGVQcm94eShcbiAgICBjdXJyU25hcHNob3QsXG4gICAgY3VyckFmZmVjdGVkLFxuICAgIHByb3h5Q2FjaGUsXG4gICAgdGFyZ2V0Q2FjaGVcbiAgKTtcbn1cblxuZXhwb3J0IHsgdXNlU25hcHNob3QgfTtcbiJdLCJuYW1lcyI6WyJSZWFjdEV4cG9ydHMiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VEZWJ1Z1ZhbHVlIiwiaXNDaGFuZ2VkIiwiY3JlYXRlUHJveHkiLCJhZmZlY3RlZFRvUGF0aExpc3QiLCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZUV4cG9ydHMiLCJzdWJzY3JpYmUiLCJzbmFwc2hvdCIsInVzZSIsInVzZVN5bmNFeHRlcm5hbFN0b3JlIiwidXNlQWZmZWN0ZWREZWJ1Z1ZhbHVlIiwic3RhdGUiLCJhZmZlY3RlZCIsInBhdGhMaXN0IiwiY3VycmVudCIsInRhcmdldENhY2hlIiwiV2Vha01hcCIsInVzZVNuYXBzaG90IiwicHJveHlPYmplY3QiLCJvcHRpb25zIiwibm90aWZ5SW5TeW5jIiwic3luYyIsImxhc3RTbmFwc2hvdCIsImxhc3RBZmZlY3RlZCIsImluUmVuZGVyIiwiY3VyclNuYXBzaG90IiwiY2FsbGJhY2siLCJ1bnN1YiIsIm5leHRTbmFwc2hvdCIsImUiLCJjdXJyQWZmZWN0ZWQiLCJlbnYiLCJNT0RFIiwicHJveHlDYWNoZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/valtio/esm/react.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/valtio/esm/vanilla.mjs":
/*!*********************************************!*\
  !*** ./node_modules/valtio/esm/vanilla.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getVersion: () => (/* binding */ getVersion),\n/* harmony export */   proxy: () => (/* binding */ proxy),\n/* harmony export */   ref: () => (/* binding */ ref),\n/* harmony export */   snapshot: () => (/* binding */ snapshot),\n/* harmony export */   subscribe: () => (/* binding */ subscribe),\n/* harmony export */   unstable_buildProxyFunction: () => (/* binding */ unstable_buildProxyFunction)\n/* harmony export */ });\n/* harmony import */ var proxy_compare__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! proxy-compare */ \"(ssr)/./node_modules/proxy-compare/dist/index.modern.js\");\n\nconst isObject = (x)=>typeof x === \"object\" && x !== null;\nconst proxyStateMap = /* @__PURE__ */ new WeakMap();\nconst refSet = /* @__PURE__ */ new WeakSet();\nconst buildProxyFunction = (objectIs = Object.is, newProxy = (target, handler)=>new Proxy(target, handler), canProxy = (x)=>isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer), defaultHandlePromise = (promise)=>{\n    switch(promise.status){\n        case \"fulfilled\":\n            return promise.value;\n        case \"rejected\":\n            throw promise.reason;\n        default:\n            throw promise;\n    }\n}, snapCache = /* @__PURE__ */ new WeakMap(), createSnapshot = (target, version, handlePromise = defaultHandlePromise)=>{\n    const cache = snapCache.get(target);\n    if ((cache == null ? void 0 : cache[0]) === version) {\n        return cache[1];\n    }\n    const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n    (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(snap, true);\n    snapCache.set(target, [\n        version,\n        snap\n    ]);\n    Reflect.ownKeys(target).forEach((key)=>{\n        if (Object.getOwnPropertyDescriptor(snap, key)) {\n            return;\n        }\n        const value = Reflect.get(target, key);\n        const desc = {\n            value,\n            enumerable: true,\n            // This is intentional to avoid copying with proxy-compare.\n            // It's still non-writable, so it avoids assigning a value.\n            configurable: true\n        };\n        if (refSet.has(value)) {\n            (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(value, false);\n        } else if (value instanceof Promise) {\n            delete desc.value;\n            desc.get = ()=>handlePromise(value);\n        } else if (proxyStateMap.has(value)) {\n            const [target2, ensureVersion] = proxyStateMap.get(value);\n            desc.value = createSnapshot(target2, ensureVersion(), handlePromise);\n        }\n        Object.defineProperty(snap, key, desc);\n    });\n    return Object.preventExtensions(snap);\n}, proxyCache = /* @__PURE__ */ new WeakMap(), versionHolder = [\n    1,\n    1\n], proxyFunction = (initialObject)=>{\n    if (!isObject(initialObject)) {\n        throw new Error(\"object required\");\n    }\n    const found = proxyCache.get(initialObject);\n    if (found) {\n        return found;\n    }\n    let version = versionHolder[0];\n    const listeners = /* @__PURE__ */ new Set();\n    const notifyUpdate = (op, nextVersion = ++versionHolder[0])=>{\n        if (version !== nextVersion) {\n            version = nextVersion;\n            listeners.forEach((listener)=>listener(op, nextVersion));\n        }\n    };\n    let checkVersion = versionHolder[1];\n    const ensureVersion = (nextCheckVersion = ++versionHolder[1])=>{\n        if (checkVersion !== nextCheckVersion && !listeners.size) {\n            checkVersion = nextCheckVersion;\n            propProxyStates.forEach(([propProxyState])=>{\n                const propVersion = propProxyState[1](nextCheckVersion);\n                if (propVersion > version) {\n                    version = propVersion;\n                }\n            });\n        }\n        return version;\n    };\n    const createPropListener = (prop)=>(op, nextVersion)=>{\n            const newOp = [\n                ...op\n            ];\n            newOp[1] = [\n                prop,\n                ...newOp[1]\n            ];\n            notifyUpdate(newOp, nextVersion);\n        };\n    const propProxyStates = /* @__PURE__ */ new Map();\n    const addPropListener = (prop, propProxyState)=>{\n        if (( false ? 0 : void 0) !== \"production\" && propProxyStates.has(prop)) {\n            throw new Error(\"prop listener already exists\");\n        }\n        if (listeners.size) {\n            const remove = propProxyState[3](createPropListener(prop));\n            propProxyStates.set(prop, [\n                propProxyState,\n                remove\n            ]);\n        } else {\n            propProxyStates.set(prop, [\n                propProxyState\n            ]);\n        }\n    };\n    const removePropListener = (prop)=>{\n        var _a;\n        const entry = propProxyStates.get(prop);\n        if (entry) {\n            propProxyStates.delete(prop);\n            (_a = entry[1]) == null ? void 0 : _a.call(entry);\n        }\n    };\n    const addListener = (listener)=>{\n        listeners.add(listener);\n        if (listeners.size === 1) {\n            propProxyStates.forEach(([propProxyState, prevRemove], prop)=>{\n                if (( false ? 0 : void 0) !== \"production\" && prevRemove) {\n                    throw new Error(\"remove already exists\");\n                }\n                const remove = propProxyState[3](createPropListener(prop));\n                propProxyStates.set(prop, [\n                    propProxyState,\n                    remove\n                ]);\n            });\n        }\n        const removeListener = ()=>{\n            listeners.delete(listener);\n            if (listeners.size === 0) {\n                propProxyStates.forEach(([propProxyState, remove], prop)=>{\n                    if (remove) {\n                        remove();\n                        propProxyStates.set(prop, [\n                            propProxyState\n                        ]);\n                    }\n                });\n            }\n        };\n        return removeListener;\n    };\n    const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\n    const handler = {\n        deleteProperty (target, prop) {\n            const prevValue = Reflect.get(target, prop);\n            removePropListener(prop);\n            const deleted = Reflect.deleteProperty(target, prop);\n            if (deleted) {\n                notifyUpdate([\n                    \"delete\",\n                    [\n                        prop\n                    ],\n                    prevValue\n                ]);\n            }\n            return deleted;\n        },\n        set (target, prop, value, receiver) {\n            const hasPrevValue = Reflect.has(target, prop);\n            const prevValue = Reflect.get(target, prop, receiver);\n            if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {\n                return true;\n            }\n            removePropListener(prop);\n            if (isObject(value)) {\n                value = (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.getUntracked)(value) || value;\n            }\n            let nextValue = value;\n            if (value instanceof Promise) {\n                value.then((v)=>{\n                    value.status = \"fulfilled\";\n                    value.value = v;\n                    notifyUpdate([\n                        \"resolve\",\n                        [\n                            prop\n                        ],\n                        v\n                    ]);\n                }).catch((e)=>{\n                    value.status = \"rejected\";\n                    value.reason = e;\n                    notifyUpdate([\n                        \"reject\",\n                        [\n                            prop\n                        ],\n                        e\n                    ]);\n                });\n            } else {\n                if (!proxyStateMap.has(value) && canProxy(value)) {\n                    nextValue = proxyFunction(value);\n                }\n                const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue);\n                if (childProxyState) {\n                    addPropListener(prop, childProxyState);\n                }\n            }\n            Reflect.set(target, prop, nextValue, receiver);\n            notifyUpdate([\n                \"set\",\n                [\n                    prop\n                ],\n                value,\n                prevValue\n            ]);\n            return true;\n        }\n    };\n    const proxyObject = newProxy(baseObject, handler);\n    proxyCache.set(initialObject, proxyObject);\n    const proxyState = [\n        baseObject,\n        ensureVersion,\n        createSnapshot,\n        addListener\n    ];\n    proxyStateMap.set(proxyObject, proxyState);\n    Reflect.ownKeys(initialObject).forEach((key)=>{\n        const desc = Object.getOwnPropertyDescriptor(initialObject, key);\n        if (\"value\" in desc) {\n            proxyObject[key] = initialObject[key];\n            delete desc.value;\n            delete desc.writable;\n        }\n        Object.defineProperty(baseObject, key, desc);\n    });\n    return proxyObject;\n})=>[\n        // public functions\n        proxyFunction,\n        // shared state\n        proxyStateMap,\n        refSet,\n        // internal things\n        objectIs,\n        newProxy,\n        canProxy,\n        defaultHandlePromise,\n        snapCache,\n        createSnapshot,\n        proxyCache,\n        versionHolder\n    ];\nconst [defaultProxyFunction] = buildProxyFunction();\nfunction proxy(initialObject = {}) {\n    return defaultProxyFunction(initialObject);\n}\nfunction getVersion(proxyObject) {\n    const proxyState = proxyStateMap.get(proxyObject);\n    return proxyState == null ? void 0 : proxyState[1]();\n}\nfunction subscribe(proxyObject, callback, notifyInSync) {\n    const proxyState = proxyStateMap.get(proxyObject);\n    if (( false ? 0 : void 0) !== \"production\" && !proxyState) {\n        console.warn(\"Please use proxy object\");\n    }\n    let promise;\n    const ops = [];\n    const addListener = proxyState[3];\n    let isListenerActive = false;\n    const listener = (op)=>{\n        ops.push(op);\n        if (notifyInSync) {\n            callback(ops.splice(0));\n            return;\n        }\n        if (!promise) {\n            promise = Promise.resolve().then(()=>{\n                promise = void 0;\n                if (isListenerActive) {\n                    callback(ops.splice(0));\n                }\n            });\n        }\n    };\n    const removeListener = addListener(listener);\n    isListenerActive = true;\n    return ()=>{\n        isListenerActive = false;\n        removeListener();\n    };\n}\nfunction snapshot(proxyObject, handlePromise) {\n    const proxyState = proxyStateMap.get(proxyObject);\n    if (( false ? 0 : void 0) !== \"production\" && !proxyState) {\n        console.warn(\"Please use proxy object\");\n    }\n    const [target, ensureVersion, createSnapshot] = proxyState;\n    return createSnapshot(target, ensureVersion(), handlePromise);\n}\nfunction ref(obj) {\n    refSet.add(obj);\n    return obj;\n}\nconst unstable_buildProxyFunction = buildProxyFunction;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdmFsdGlvL2VzbS92YW5pbGxhLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBEO0FBRTFELE1BQU1FLFdBQVcsQ0FBQ0MsSUFBTSxPQUFPQSxNQUFNLFlBQVlBLE1BQU07QUFDdkQsTUFBTUMsZ0JBQWdCLGFBQWEsR0FBRyxJQUFJQztBQUMxQyxNQUFNQyxTQUFTLGFBQWEsR0FBRyxJQUFJQztBQUNuQyxNQUFNQyxxQkFBcUIsQ0FBQ0MsV0FBV0MsT0FBT0MsRUFBRSxFQUFFQyxXQUFXLENBQUNDLFFBQVFDLFVBQVksSUFBSUMsTUFBTUYsUUFBUUMsUUFBUSxFQUFFRSxXQUFXLENBQUNiLElBQU1ELFNBQVNDLE1BQU0sQ0FBQ0csT0FBT1csR0FBRyxDQUFDZCxNQUFPZSxDQUFBQSxNQUFNQyxPQUFPLENBQUNoQixNQUFNLENBQUVpQixDQUFBQSxPQUFPQyxRQUFRLElBQUlsQixDQUFBQSxDQUFDLEtBQU0sQ0FBRUEsQ0FBQUEsYUFBYUUsT0FBTSxLQUFNLENBQUVGLENBQUFBLGFBQWFJLE9BQU0sS0FBTSxDQUFFSixDQUFBQSxhQUFhbUIsS0FBSSxLQUFNLENBQUVuQixDQUFBQSxhQUFhb0IsTUFBSyxLQUFNLENBQUVwQixDQUFBQSxhQUFhcUIsSUFBRyxLQUFNLENBQUVyQixDQUFBQSxhQUFhc0IsTUFBSyxLQUFNLENBQUV0QixDQUFBQSxhQUFhdUIsTUFBSyxLQUFNLENBQUV2QixDQUFBQSxhQUFhd0IsV0FBVSxDQUFFLEVBQUVDLHVCQUF1QixDQUFDQztJQUMxYixPQUFRQSxRQUFRQyxNQUFNO1FBQ3BCLEtBQUs7WUFDSCxPQUFPRCxRQUFRRSxLQUFLO1FBQ3RCLEtBQUs7WUFDSCxNQUFNRixRQUFRRyxNQUFNO1FBQ3RCO1lBQ0UsTUFBTUg7SUFDVjtBQUNGLENBQUMsRUFBRUksWUFBWSxhQUFhLEdBQUcsSUFBSTVCLFNBQVMsRUFBRTZCLGlCQUFpQixDQUFDckIsUUFBUXNCLFNBQVNDLGdCQUFnQlIsb0JBQW9C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SThDLGNBQWM7WUFDaEJELFNBQVNJLElBQUlHLE1BQU0sQ0FBQztZQUNwQjtRQUNGO1FBQ0EsSUFBSSxDQUFDdkYsU0FBUztZQUNaQSxVQUFVc0IsUUFBUWtFLE9BQU8sR0FBR3BCLElBQUksQ0FBQztnQkFDL0JwRSxVQUFVLEtBQUs7Z0JBQ2YsSUFBSXFGLGtCQUFrQjtvQkFDcEJMLFNBQVNJLElBQUlHLE1BQU0sQ0FBQztnQkFDdEI7WUFDRjtRQUNGO0lBQ0Y7SUFDQSxNQUFNM0IsaUJBQWlCSCxZQUFZcEI7SUFDbkNnRCxtQkFBbUI7SUFDbkIsT0FBTztRQUNMQSxtQkFBbUI7UUFDbkJ6QjtJQUNGO0FBQ0Y7QUFDQSxTQUFTNkIsU0FBU2hCLFdBQVcsRUFBRWxFLGFBQWE7SUFDMUMsTUFBTW1FLGFBQWFuRyxjQUFja0MsR0FBRyxDQUFDZ0U7SUFDckMsSUFBSSxDQUFDLE1BQWUsR0FBRyxDQUFvQixHQUFHLEtBQUssT0FBTyxnQkFBZ0IsQ0FBQ0MsWUFBWTtRQUNyRlEsUUFBUUMsSUFBSSxDQUFDO0lBQ2Y7SUFDQSxNQUFNLENBQUNuRyxRQUFRd0MsZUFBZW5CLGVBQWUsR0FBR3FFO0lBQ2hELE9BQU9yRSxlQUFlckIsUUFBUXdDLGlCQUFpQmpCO0FBQ2pEO0FBQ0EsU0FBU21GLElBQUlDLEdBQUc7SUFDZGxILE9BQU9pRixHQUFHLENBQUNpQztJQUNYLE9BQU9BO0FBQ1Q7QUFDQSxNQUFNQyw4QkFBOEJqSDtBQUVnRCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtc3RhcnRlci1raXQvLi9ub2RlX21vZHVsZXMvdmFsdGlvL2VzbS92YW5pbGxhLm1qcz9jMTllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1hcmtUb1RyYWNrLCBnZXRVbnRyYWNrZWQgfSBmcm9tICdwcm94eS1jb21wYXJlJztcblxuY29uc3QgaXNPYmplY3QgPSAoeCkgPT4gdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgeCAhPT0gbnVsbDtcbmNvbnN0IHByb3h5U3RhdGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlZlNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuY29uc3QgYnVpbGRQcm94eUZ1bmN0aW9uID0gKG9iamVjdElzID0gT2JqZWN0LmlzLCBuZXdQcm94eSA9ICh0YXJnZXQsIGhhbmRsZXIpID0+IG5ldyBQcm94eSh0YXJnZXQsIGhhbmRsZXIpLCBjYW5Qcm94eSA9ICh4KSA9PiBpc09iamVjdCh4KSAmJiAhcmVmU2V0Lmhhcyh4KSAmJiAoQXJyYXkuaXNBcnJheSh4KSB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiB4KSkgJiYgISh4IGluc3RhbmNlb2YgV2Vha01hcCkgJiYgISh4IGluc3RhbmNlb2YgV2Vha1NldCkgJiYgISh4IGluc3RhbmNlb2YgRXJyb3IpICYmICEoeCBpbnN0YW5jZW9mIE51bWJlcikgJiYgISh4IGluc3RhbmNlb2YgRGF0ZSkgJiYgISh4IGluc3RhbmNlb2YgU3RyaW5nKSAmJiAhKHggaW5zdGFuY2VvZiBSZWdFeHApICYmICEoeCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSwgZGVmYXVsdEhhbmRsZVByb21pc2UgPSAocHJvbWlzZSkgPT4ge1xuICBzd2l0Y2ggKHByb21pc2Uuc3RhdHVzKSB7XG4gICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgcmV0dXJuIHByb21pc2UudmFsdWU7XG4gICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICB0aHJvdyBwcm9taXNlLnJlYXNvbjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgcHJvbWlzZTtcbiAgfVxufSwgc25hcENhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIGNyZWF0ZVNuYXBzaG90ID0gKHRhcmdldCwgdmVyc2lvbiwgaGFuZGxlUHJvbWlzZSA9IGRlZmF1bHRIYW5kbGVQcm9taXNlKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gc25hcENhY2hlLmdldCh0YXJnZXQpO1xuICBpZiAoKGNhY2hlID09IG51bGwgPyB2b2lkIDAgOiBjYWNoZVswXSkgPT09IHZlcnNpb24pIHtcbiAgICByZXR1cm4gY2FjaGVbMV07XG4gIH1cbiAgY29uc3Qgc25hcCA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KSA/IFtdIDogT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KSk7XG4gIG1hcmtUb1RyYWNrKHNuYXAsIHRydWUpO1xuICBzbmFwQ2FjaGUuc2V0KHRhcmdldCwgW3ZlcnNpb24sIHNuYXBdKTtcbiAgUmVmbGVjdC5vd25LZXlzKHRhcmdldCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc25hcCwga2V5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5KTtcbiAgICBjb25zdCBkZXNjID0ge1xuICAgICAgdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbCB0byBhdm9pZCBjb3B5aW5nIHdpdGggcHJveHktY29tcGFyZS5cbiAgICAgIC8vIEl0J3Mgc3RpbGwgbm9uLXdyaXRhYmxlLCBzbyBpdCBhdm9pZHMgYXNzaWduaW5nIGEgdmFsdWUuXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9O1xuICAgIGlmIChyZWZTZXQuaGFzKHZhbHVlKSkge1xuICAgICAgbWFya1RvVHJhY2sodmFsdWUsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgZGVsZXRlIGRlc2MudmFsdWU7XG4gICAgICBkZXNjLmdldCA9ICgpID0+IGhhbmRsZVByb21pc2UodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAocHJveHlTdGF0ZU1hcC5oYXModmFsdWUpKSB7XG4gICAgICBjb25zdCBbdGFyZ2V0MiwgZW5zdXJlVmVyc2lvbl0gPSBwcm94eVN0YXRlTWFwLmdldChcbiAgICAgICAgdmFsdWVcbiAgICAgICk7XG4gICAgICBkZXNjLnZhbHVlID0gY3JlYXRlU25hcHNob3QoXG4gICAgICAgIHRhcmdldDIsXG4gICAgICAgIGVuc3VyZVZlcnNpb24oKSxcbiAgICAgICAgaGFuZGxlUHJvbWlzZVxuICAgICAgKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNuYXAsIGtleSwgZGVzYyk7XG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHNuYXApO1xufSwgcHJveHlDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCB2ZXJzaW9uSG9sZGVyID0gWzEsIDFdLCBwcm94eUZ1bmN0aW9uID0gKGluaXRpYWxPYmplY3QpID0+IHtcbiAgaWYgKCFpc09iamVjdChpbml0aWFsT2JqZWN0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIm9iamVjdCByZXF1aXJlZFwiKTtcbiAgfVxuICBjb25zdCBmb3VuZCA9IHByb3h5Q2FjaGUuZ2V0KGluaXRpYWxPYmplY3QpO1xuICBpZiAoZm91bmQpIHtcbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cbiAgbGV0IHZlcnNpb24gPSB2ZXJzaW9uSG9sZGVyWzBdO1xuICBjb25zdCBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBub3RpZnlVcGRhdGUgPSAob3AsIG5leHRWZXJzaW9uID0gKyt2ZXJzaW9uSG9sZGVyWzBdKSA9PiB7XG4gICAgaWYgKHZlcnNpb24gIT09IG5leHRWZXJzaW9uKSB7XG4gICAgICB2ZXJzaW9uID0gbmV4dFZlcnNpb247XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKG9wLCBuZXh0VmVyc2lvbikpO1xuICAgIH1cbiAgfTtcbiAgbGV0IGNoZWNrVmVyc2lvbiA9IHZlcnNpb25Ib2xkZXJbMV07XG4gIGNvbnN0IGVuc3VyZVZlcnNpb24gPSAobmV4dENoZWNrVmVyc2lvbiA9ICsrdmVyc2lvbkhvbGRlclsxXSkgPT4ge1xuICAgIGlmIChjaGVja1ZlcnNpb24gIT09IG5leHRDaGVja1ZlcnNpb24gJiYgIWxpc3RlbmVycy5zaXplKSB7XG4gICAgICBjaGVja1ZlcnNpb24gPSBuZXh0Q2hlY2tWZXJzaW9uO1xuICAgICAgcHJvcFByb3h5U3RhdGVzLmZvckVhY2goKFtwcm9wUHJveHlTdGF0ZV0pID0+IHtcbiAgICAgICAgY29uc3QgcHJvcFZlcnNpb24gPSBwcm9wUHJveHlTdGF0ZVsxXShuZXh0Q2hlY2tWZXJzaW9uKTtcbiAgICAgICAgaWYgKHByb3BWZXJzaW9uID4gdmVyc2lvbikge1xuICAgICAgICAgIHZlcnNpb24gPSBwcm9wVmVyc2lvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2ZXJzaW9uO1xuICB9O1xuICBjb25zdCBjcmVhdGVQcm9wTGlzdGVuZXIgPSAocHJvcCkgPT4gKG9wLCBuZXh0VmVyc2lvbikgPT4ge1xuICAgIGNvbnN0IG5ld09wID0gWy4uLm9wXTtcbiAgICBuZXdPcFsxXSA9IFtwcm9wLCAuLi5uZXdPcFsxXV07XG4gICAgbm90aWZ5VXBkYXRlKG5ld09wLCBuZXh0VmVyc2lvbik7XG4gIH07XG4gIGNvbnN0IHByb3BQcm94eVN0YXRlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IGFkZFByb3BMaXN0ZW5lciA9IChwcm9wLCBwcm9wUHJveHlTdGF0ZSkgPT4ge1xuICAgIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIiAmJiBwcm9wUHJveHlTdGF0ZXMuaGFzKHByb3ApKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm9wIGxpc3RlbmVyIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgIH1cbiAgICBpZiAobGlzdGVuZXJzLnNpemUpIHtcbiAgICAgIGNvbnN0IHJlbW92ZSA9IHByb3BQcm94eVN0YXRlWzNdKGNyZWF0ZVByb3BMaXN0ZW5lcihwcm9wKSk7XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuc2V0KHByb3AsIFtwcm9wUHJveHlTdGF0ZSwgcmVtb3ZlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3BQcm94eVN0YXRlcy5zZXQocHJvcCwgW3Byb3BQcm94eVN0YXRlXSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmVQcm9wTGlzdGVuZXIgPSAocHJvcCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBlbnRyeSA9IHByb3BQcm94eVN0YXRlcy5nZXQocHJvcCk7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuZGVsZXRlKHByb3ApO1xuICAgICAgKF9hID0gZW50cnlbMV0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGVudHJ5KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGFkZExpc3RlbmVyID0gKGxpc3RlbmVyKSA9PiB7XG4gICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgaWYgKGxpc3RlbmVycy5zaXplID09PSAxKSB7XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuZm9yRWFjaCgoW3Byb3BQcm94eVN0YXRlLCBwcmV2UmVtb3ZlXSwgcHJvcCkgPT4ge1xuICAgICAgICBpZiAoKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgcHJldlJlbW92ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInJlbW92ZSBhbHJlYWR5IGV4aXN0c1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1vdmUgPSBwcm9wUHJveHlTdGF0ZVszXShjcmVhdGVQcm9wTGlzdGVuZXIocHJvcCkpO1xuICAgICAgICBwcm9wUHJveHlTdGF0ZXMuc2V0KHByb3AsIFtwcm9wUHJveHlTdGF0ZSwgcmVtb3ZlXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgIGlmIChsaXN0ZW5lcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBwcm9wUHJveHlTdGF0ZXMuZm9yRWFjaCgoW3Byb3BQcm94eVN0YXRlLCByZW1vdmVdLCBwcm9wKSA9PiB7XG4gICAgICAgICAgaWYgKHJlbW92ZSkge1xuICAgICAgICAgICAgcmVtb3ZlKCk7XG4gICAgICAgICAgICBwcm9wUHJveHlTdGF0ZXMuc2V0KHByb3AsIFtwcm9wUHJveHlTdGF0ZV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gcmVtb3ZlTGlzdGVuZXI7XG4gIH07XG4gIGNvbnN0IGJhc2VPYmplY3QgPSBBcnJheS5pc0FycmF5KGluaXRpYWxPYmplY3QpID8gW10gOiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihpbml0aWFsT2JqZWN0KSk7XG4gIGNvbnN0IGhhbmRsZXIgPSB7XG4gICAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wKSB7XG4gICAgICBjb25zdCBwcmV2VmFsdWUgPSBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3ApO1xuICAgICAgcmVtb3ZlUHJvcExpc3RlbmVyKHByb3ApO1xuICAgICAgY29uc3QgZGVsZXRlZCA9IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wKTtcbiAgICAgIGlmIChkZWxldGVkKSB7XG4gICAgICAgIG5vdGlmeVVwZGF0ZShbXCJkZWxldGVcIiwgW3Byb3BdLCBwcmV2VmFsdWVdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWxldGVkO1xuICAgIH0sXG4gICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgICBjb25zdCBoYXNQcmV2VmFsdWUgPSBSZWZsZWN0Lmhhcyh0YXJnZXQsIHByb3ApO1xuICAgICAgY29uc3QgcHJldlZhbHVlID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICBpZiAoaGFzUHJldlZhbHVlICYmIChvYmplY3RJcyhwcmV2VmFsdWUsIHZhbHVlKSB8fCBwcm94eUNhY2hlLmhhcyh2YWx1ZSkgJiYgb2JqZWN0SXMocHJldlZhbHVlLCBwcm94eUNhY2hlLmdldCh2YWx1ZSkpKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJlbW92ZVByb3BMaXN0ZW5lcihwcm9wKTtcbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBnZXRVbnRyYWNrZWQodmFsdWUpIHx8IHZhbHVlO1xuICAgICAgfVxuICAgICAgbGV0IG5leHRWYWx1ZSA9IHZhbHVlO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB2YWx1ZS50aGVuKCh2KSA9PiB7XG4gICAgICAgICAgdmFsdWUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIjtcbiAgICAgICAgICB2YWx1ZS52YWx1ZSA9IHY7XG4gICAgICAgICAgbm90aWZ5VXBkYXRlKFtcInJlc29sdmVcIiwgW3Byb3BdLCB2XSk7XG4gICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgdmFsdWUuc3RhdHVzID0gXCJyZWplY3RlZFwiO1xuICAgICAgICAgIHZhbHVlLnJlYXNvbiA9IGU7XG4gICAgICAgICAgbm90aWZ5VXBkYXRlKFtcInJlamVjdFwiLCBbcHJvcF0sIGVdKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXByb3h5U3RhdGVNYXAuaGFzKHZhbHVlKSAmJiBjYW5Qcm94eSh2YWx1ZSkpIHtcbiAgICAgICAgICBuZXh0VmFsdWUgPSBwcm94eUZ1bmN0aW9uKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZFByb3h5U3RhdGUgPSAhcmVmU2V0LmhhcyhuZXh0VmFsdWUpICYmIHByb3h5U3RhdGVNYXAuZ2V0KG5leHRWYWx1ZSk7XG4gICAgICAgIGlmIChjaGlsZFByb3h5U3RhdGUpIHtcbiAgICAgICAgICBhZGRQcm9wTGlzdGVuZXIocHJvcCwgY2hpbGRQcm94eVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wLCBuZXh0VmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgIG5vdGlmeVVwZGF0ZShbXCJzZXRcIiwgW3Byb3BdLCB2YWx1ZSwgcHJldlZhbHVlXSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb3h5T2JqZWN0ID0gbmV3UHJveHkoYmFzZU9iamVjdCwgaGFuZGxlcik7XG4gIHByb3h5Q2FjaGUuc2V0KGluaXRpYWxPYmplY3QsIHByb3h5T2JqZWN0KTtcbiAgY29uc3QgcHJveHlTdGF0ZSA9IFtcbiAgICBiYXNlT2JqZWN0LFxuICAgIGVuc3VyZVZlcnNpb24sXG4gICAgY3JlYXRlU25hcHNob3QsXG4gICAgYWRkTGlzdGVuZXJcbiAgXTtcbiAgcHJveHlTdGF0ZU1hcC5zZXQocHJveHlPYmplY3QsIHByb3h5U3RhdGUpO1xuICBSZWZsZWN0Lm93bktleXMoaW5pdGlhbE9iamVjdCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICBpbml0aWFsT2JqZWN0LFxuICAgICAga2V5XG4gICAgKTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHtcbiAgICAgIHByb3h5T2JqZWN0W2tleV0gPSBpbml0aWFsT2JqZWN0W2tleV07XG4gICAgICBkZWxldGUgZGVzYy52YWx1ZTtcbiAgICAgIGRlbGV0ZSBkZXNjLndyaXRhYmxlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYmFzZU9iamVjdCwga2V5LCBkZXNjKTtcbiAgfSk7XG4gIHJldHVybiBwcm94eU9iamVjdDtcbn0pID0+IFtcbiAgLy8gcHVibGljIGZ1bmN0aW9uc1xuICBwcm94eUZ1bmN0aW9uLFxuICAvLyBzaGFyZWQgc3RhdGVcbiAgcHJveHlTdGF0ZU1hcCxcbiAgcmVmU2V0LFxuICAvLyBpbnRlcm5hbCB0aGluZ3NcbiAgb2JqZWN0SXMsXG4gIG5ld1Byb3h5LFxuICBjYW5Qcm94eSxcbiAgZGVmYXVsdEhhbmRsZVByb21pc2UsXG4gIHNuYXBDYWNoZSxcbiAgY3JlYXRlU25hcHNob3QsXG4gIHByb3h5Q2FjaGUsXG4gIHZlcnNpb25Ib2xkZXJcbl07XG5jb25zdCBbZGVmYXVsdFByb3h5RnVuY3Rpb25dID0gYnVpbGRQcm94eUZ1bmN0aW9uKCk7XG5mdW5jdGlvbiBwcm94eShpbml0aWFsT2JqZWN0ID0ge30pIHtcbiAgcmV0dXJuIGRlZmF1bHRQcm94eUZ1bmN0aW9uKGluaXRpYWxPYmplY3QpO1xufVxuZnVuY3Rpb24gZ2V0VmVyc2lvbihwcm94eU9iamVjdCkge1xuICBjb25zdCBwcm94eVN0YXRlID0gcHJveHlTdGF0ZU1hcC5nZXQocHJveHlPYmplY3QpO1xuICByZXR1cm4gcHJveHlTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogcHJveHlTdGF0ZVsxXSgpO1xufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHByb3h5T2JqZWN0LCBjYWxsYmFjaywgbm90aWZ5SW5TeW5jKSB7XG4gIGNvbnN0IHByb3h5U3RhdGUgPSBwcm94eVN0YXRlTWFwLmdldChwcm94eU9iamVjdCk7XG4gIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhcHJveHlTdGF0ZSkge1xuICAgIGNvbnNvbGUud2FybihcIlBsZWFzZSB1c2UgcHJveHkgb2JqZWN0XCIpO1xuICB9XG4gIGxldCBwcm9taXNlO1xuICBjb25zdCBvcHMgPSBbXTtcbiAgY29uc3QgYWRkTGlzdGVuZXIgPSBwcm94eVN0YXRlWzNdO1xuICBsZXQgaXNMaXN0ZW5lckFjdGl2ZSA9IGZhbHNlO1xuICBjb25zdCBsaXN0ZW5lciA9IChvcCkgPT4ge1xuICAgIG9wcy5wdXNoKG9wKTtcbiAgICBpZiAobm90aWZ5SW5TeW5jKSB7XG4gICAgICBjYWxsYmFjayhvcHMuc3BsaWNlKDApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHByb21pc2UgPSB2b2lkIDA7XG4gICAgICAgIGlmIChpc0xpc3RlbmVyQWN0aXZlKSB7XG4gICAgICAgICAgY2FsbGJhY2sob3BzLnNwbGljZSgwKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlTGlzdGVuZXIgPSBhZGRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIGlzTGlzdGVuZXJBY3RpdmUgPSB0cnVlO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlzTGlzdGVuZXJBY3RpdmUgPSBmYWxzZTtcbiAgICByZW1vdmVMaXN0ZW5lcigpO1xuICB9O1xufVxuZnVuY3Rpb24gc25hcHNob3QocHJveHlPYmplY3QsIGhhbmRsZVByb21pc2UpIHtcbiAgY29uc3QgcHJveHlTdGF0ZSA9IHByb3h5U3RhdGVNYXAuZ2V0KHByb3h5T2JqZWN0KTtcbiAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmICFwcm94eVN0YXRlKSB7XG4gICAgY29uc29sZS53YXJuKFwiUGxlYXNlIHVzZSBwcm94eSBvYmplY3RcIik7XG4gIH1cbiAgY29uc3QgW3RhcmdldCwgZW5zdXJlVmVyc2lvbiwgY3JlYXRlU25hcHNob3RdID0gcHJveHlTdGF0ZTtcbiAgcmV0dXJuIGNyZWF0ZVNuYXBzaG90KHRhcmdldCwgZW5zdXJlVmVyc2lvbigpLCBoYW5kbGVQcm9taXNlKTtcbn1cbmZ1bmN0aW9uIHJlZihvYmopIHtcbiAgcmVmU2V0LmFkZChvYmopO1xuICByZXR1cm4gb2JqO1xufVxuY29uc3QgdW5zdGFibGVfYnVpbGRQcm94eUZ1bmN0aW9uID0gYnVpbGRQcm94eUZ1bmN0aW9uO1xuXG5leHBvcnQgeyBnZXRWZXJzaW9uLCBwcm94eSwgcmVmLCBzbmFwc2hvdCwgc3Vic2NyaWJlLCB1bnN0YWJsZV9idWlsZFByb3h5RnVuY3Rpb24gfTtcbiJdLCJuYW1lcyI6WyJtYXJrVG9UcmFjayIsImdldFVudHJhY2tlZCIsImlzT2JqZWN0IiwieCIsInByb3h5U3RhdGVNYXAiLCJXZWFrTWFwIiwicmVmU2V0IiwiV2Vha1NldCIsImJ1aWxkUHJveHlGdW5jdGlvbiIsIm9iamVjdElzIiwiT2JqZWN0IiwiaXMiLCJuZXdQcm94eSIsInRhcmdldCIsImhhbmRsZXIiLCJQcm94eSIsImNhblByb3h5IiwiaGFzIiwiQXJyYXkiLCJpc0FycmF5IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJFcnJvciIsIk51bWJlciIsIkRhdGUiLCJTdHJpbmciLCJSZWdFeHAiLCJBcnJheUJ1ZmZlciIsImRlZmF1bHRIYW5kbGVQcm9taXNlIiwicHJvbWlzZSIsInN0YXR1cyIsInZhbHVlIiwicmVhc29uIiwic25hcENhY2hlIiwiY3JlYXRlU25hcHNob3QiLCJ2ZXJzaW9uIiwiaGFuZGxlUHJvbWlzZSIsImNhY2hlIiwiZ2V0Iiwic25hcCIsImNyZWF0ZSIsImdldFByb3RvdHlwZU9mIiwic2V0IiwiUmVmbGVjdCIsIm93bktleXMiLCJmb3JFYWNoIiwia2V5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZGVzYyIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJQcm9taXNlIiwidGFyZ2V0MiIsImVuc3VyZVZlcnNpb24iLCJkZWZpbmVQcm9wZXJ0eSIsInByZXZlbnRFeHRlbnNpb25zIiwicHJveHlDYWNoZSIsInZlcnNpb25Ib2xkZXIiLCJwcm94eUZ1bmN0aW9uIiwiaW5pdGlhbE9iamVjdCIsImZvdW5kIiwibGlzdGVuZXJzIiwiU2V0Iiwibm90aWZ5VXBkYXRlIiwib3AiLCJuZXh0VmVyc2lvbiIsImxpc3RlbmVyIiwiY2hlY2tWZXJzaW9uIiwibmV4dENoZWNrVmVyc2lvbiIsInNpemUiLCJwcm9wUHJveHlTdGF0ZXMiLCJwcm9wUHJveHlTdGF0ZSIsInByb3BWZXJzaW9uIiwiY3JlYXRlUHJvcExpc3RlbmVyIiwicHJvcCIsIm5ld09wIiwiTWFwIiwiYWRkUHJvcExpc3RlbmVyIiwiZW52IiwiTU9ERSIsInJlbW92ZSIsInJlbW92ZVByb3BMaXN0ZW5lciIsIl9hIiwiZW50cnkiLCJkZWxldGUiLCJjYWxsIiwiYWRkTGlzdGVuZXIiLCJhZGQiLCJwcmV2UmVtb3ZlIiwicmVtb3ZlTGlzdGVuZXIiLCJiYXNlT2JqZWN0IiwiZGVsZXRlUHJvcGVydHkiLCJwcmV2VmFsdWUiLCJkZWxldGVkIiwicmVjZWl2ZXIiLCJoYXNQcmV2VmFsdWUiLCJuZXh0VmFsdWUiLCJ0aGVuIiwidiIsImNhdGNoIiwiZSIsImNoaWxkUHJveHlTdGF0ZSIsInByb3h5T2JqZWN0IiwicHJveHlTdGF0ZSIsIndyaXRhYmxlIiwiZGVmYXVsdFByb3h5RnVuY3Rpb24iLCJwcm94eSIsImdldFZlcnNpb24iLCJzdWJzY3JpYmUiLCJjYWxsYmFjayIsIm5vdGlmeUluU3luYyIsImNvbnNvbGUiLCJ3YXJuIiwib3BzIiwiaXNMaXN0ZW5lckFjdGl2ZSIsInB1c2giLCJzcGxpY2UiLCJyZXNvbHZlIiwic25hcHNob3QiLCJyZWYiLCJvYmoiLCJ1bnN0YWJsZV9idWlsZFByb3h5RnVuY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/valtio/esm/vanilla.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/valtio/esm/vanilla/utils.mjs":
/*!***************************************************!*\
  !*** ./node_modules/valtio/esm/vanilla/utils.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addComputed: () => (/* binding */ addComputed_DEPRECATED),\n/* harmony export */   derive: () => (/* binding */ derive),\n/* harmony export */   devtools: () => (/* binding */ devtools),\n/* harmony export */   proxyMap: () => (/* binding */ proxyMap),\n/* harmony export */   proxySet: () => (/* binding */ proxySet),\n/* harmony export */   proxyWithComputed: () => (/* binding */ proxyWithComputed_DEPRECATED),\n/* harmony export */   proxyWithHistory: () => (/* binding */ proxyWithHistory),\n/* harmony export */   subscribeKey: () => (/* binding */ subscribeKey),\n/* harmony export */   underive: () => (/* binding */ underive),\n/* harmony export */   unstable_deriveSubscriptions: () => (/* binding */ unstable_deriveSubscriptions),\n/* harmony export */   watch: () => (/* binding */ watch)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/valtio/esm/vanilla.mjs\");\n\nfunction subscribeKey(proxyObject, key, callback, notifyInSync) {\n    let prevValue = proxyObject[key];\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(proxyObject, ()=>{\n        const nextValue = proxyObject[key];\n        if (!Object.is(prevValue, nextValue)) {\n            callback(prevValue = nextValue);\n        }\n    }, notifyInSync);\n}\nlet currentCleanups;\nfunction watch(callback, options) {\n    let alive = true;\n    const cleanups = /* @__PURE__ */ new Set();\n    const subscriptions = /* @__PURE__ */ new Map();\n    const cleanup = ()=>{\n        if (alive) {\n            alive = false;\n            cleanups.forEach((clean)=>clean());\n            cleanups.clear();\n            subscriptions.forEach((unsubscribe)=>unsubscribe());\n            subscriptions.clear();\n        }\n    };\n    const revalidate = ()=>{\n        if (!alive) {\n            return;\n        }\n        cleanups.forEach((clean)=>clean());\n        cleanups.clear();\n        const proxiesToSubscribe = /* @__PURE__ */ new Set();\n        const parent = currentCleanups;\n        currentCleanups = cleanups;\n        try {\n            const cleanupReturn = callback((proxyObject)=>{\n                proxiesToSubscribe.add(proxyObject);\n                return proxyObject;\n            });\n            if (cleanupReturn) {\n                cleanups.add(cleanupReturn);\n            }\n        } finally{\n            currentCleanups = parent;\n        }\n        subscriptions.forEach((unsubscribe, proxyObject)=>{\n            if (proxiesToSubscribe.has(proxyObject)) {\n                proxiesToSubscribe.delete(proxyObject);\n            } else {\n                subscriptions.delete(proxyObject);\n                unsubscribe();\n            }\n        });\n        proxiesToSubscribe.forEach((proxyObject)=>{\n            const unsubscribe = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(proxyObject, revalidate, options == null ? void 0 : options.sync);\n            subscriptions.set(proxyObject, unsubscribe);\n        });\n    };\n    if (currentCleanups) {\n        currentCleanups.add(cleanup);\n    }\n    revalidate();\n    return cleanup;\n}\nconst DEVTOOLS = Symbol();\nfunction devtools(proxyObject, options) {\n    if (typeof options === \"string\") {\n        console.warn(\"string name option is deprecated, use { name }. https://github.com/pmndrs/valtio/pull/400\");\n        options = {\n            name: options\n        };\n    }\n    const { enabled, name = \"\", ...rest } = options || {};\n    let extension;\n    try {\n        extension = (enabled != null ? enabled : ( false ? 0 : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n    } catch  {}\n    if (!extension) {\n        if (( false ? 0 : void 0) !== \"production\" && enabled) {\n            console.warn(\"[Warning] Please install/enable Redux devtools extension\");\n        }\n        return;\n    }\n    let isTimeTraveling = false;\n    const devtools2 = extension.connect({\n        name,\n        ...rest\n    });\n    const unsub1 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(proxyObject, (ops)=>{\n        const action = ops.filter(([_, path])=>path[0] !== DEVTOOLS).map(([op, path])=>`${op}:${path.map(String).join(\".\")}`).join(\", \");\n        if (!action) {\n            return;\n        }\n        if (isTimeTraveling) {\n            isTimeTraveling = false;\n        } else {\n            const snapWithoutDevtools = Object.assign({}, (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n            delete snapWithoutDevtools[DEVTOOLS];\n            devtools2.send({\n                type: action,\n                updatedAt: /* @__PURE__ */ new Date().toLocaleString()\n            }, snapWithoutDevtools);\n        }\n    });\n    const unsub2 = devtools2.subscribe((message)=>{\n        var _a, _b, _c, _d, _e, _f;\n        if (message.type === \"ACTION\" && message.payload) {\n            try {\n                Object.assign(proxyObject, JSON.parse(message.payload));\n            } catch (e) {\n                console.error(\"please dispatch a serializable value that JSON.parse() and proxy() support\\n\", e);\n            }\n        }\n        if (message.type === \"DISPATCH\" && message.state) {\n            if (((_a = message.payload) == null ? void 0 : _a.type) === \"JUMP_TO_ACTION\" || ((_b = message.payload) == null ? void 0 : _b.type) === \"JUMP_TO_STATE\") {\n                isTimeTraveling = true;\n                const state = JSON.parse(message.state);\n                Object.assign(proxyObject, state);\n            }\n            proxyObject[DEVTOOLS] = message;\n        } else if (message.type === \"DISPATCH\" && ((_c = message.payload) == null ? void 0 : _c.type) === \"COMMIT\") {\n            devtools2.init((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n        } else if (message.type === \"DISPATCH\" && ((_d = message.payload) == null ? void 0 : _d.type) === \"IMPORT_STATE\") {\n            const actions = (_e = message.payload.nextLiftedState) == null ? void 0 : _e.actionsById;\n            const computedStates = ((_f = message.payload.nextLiftedState) == null ? void 0 : _f.computedStates) || [];\n            isTimeTraveling = true;\n            computedStates.forEach(({ state }, index)=>{\n                const action = actions[index] || \"No action found\";\n                Object.assign(proxyObject, state);\n                if (index === 0) {\n                    devtools2.init((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n                } else {\n                    devtools2.send(action, (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n                }\n            });\n        }\n    });\n    devtools2.init((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n    return ()=>{\n        unsub1();\n        unsub2 == null ? void 0 : unsub2();\n    };\n}\nconst sourceObjectMap = /* @__PURE__ */ new WeakMap();\nconst derivedObjectMap = /* @__PURE__ */ new WeakMap();\nconst markPending = (sourceObject, callback)=>{\n    const sourceObjectEntry = sourceObjectMap.get(sourceObject);\n    if (sourceObjectEntry) {\n        sourceObjectEntry[0].forEach((subscription)=>{\n            const { d: derivedObject } = subscription;\n            if (sourceObject !== derivedObject) {\n                markPending(derivedObject);\n            }\n        });\n        ++sourceObjectEntry[2];\n        if (callback) {\n            sourceObjectEntry[3].add(callback);\n        }\n    }\n};\nconst checkPending = (sourceObject, callback)=>{\n    const sourceObjectEntry = sourceObjectMap.get(sourceObject);\n    if (sourceObjectEntry == null ? void 0 : sourceObjectEntry[2]) {\n        sourceObjectEntry[3].add(callback);\n        return true;\n    }\n    return false;\n};\nconst unmarkPending = (sourceObject)=>{\n    const sourceObjectEntry = sourceObjectMap.get(sourceObject);\n    if (sourceObjectEntry) {\n        --sourceObjectEntry[2];\n        if (!sourceObjectEntry[2]) {\n            sourceObjectEntry[3].forEach((callback)=>callback());\n            sourceObjectEntry[3].clear();\n        }\n        sourceObjectEntry[0].forEach((subscription)=>{\n            const { d: derivedObject } = subscription;\n            if (sourceObject !== derivedObject) {\n                unmarkPending(derivedObject);\n            }\n        });\n    }\n};\nconst addSubscription = (subscription)=>{\n    const { s: sourceObject, d: derivedObject } = subscription;\n    let derivedObjectEntry = derivedObjectMap.get(derivedObject);\n    if (!derivedObjectEntry) {\n        derivedObjectEntry = [\n            /* @__PURE__ */ new Set()\n        ];\n        derivedObjectMap.set(subscription.d, derivedObjectEntry);\n    }\n    derivedObjectEntry[0].add(subscription);\n    let sourceObjectEntry = sourceObjectMap.get(sourceObject);\n    if (!sourceObjectEntry) {\n        const subscriptions = /* @__PURE__ */ new Set();\n        const unsubscribe = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(sourceObject, (ops)=>{\n            subscriptions.forEach((subscription2)=>{\n                const { d: derivedObject2, c: callback, n: notifyInSync, i: ignoreKeys } = subscription2;\n                if (sourceObject === derivedObject2 && ops.every((op)=>op[1].length === 1 && ignoreKeys.includes(op[1][0]))) {\n                    return;\n                }\n                if (subscription2.p) {\n                    return;\n                }\n                markPending(sourceObject, callback);\n                if (notifyInSync) {\n                    unmarkPending(sourceObject);\n                } else {\n                    subscription2.p = Promise.resolve().then(()=>{\n                        delete subscription2.p;\n                        unmarkPending(sourceObject);\n                    });\n                }\n            });\n        }, true);\n        sourceObjectEntry = [\n            subscriptions,\n            unsubscribe,\n            0,\n            /* @__PURE__ */ new Set()\n        ];\n        sourceObjectMap.set(sourceObject, sourceObjectEntry);\n    }\n    sourceObjectEntry[0].add(subscription);\n};\nconst removeSubscription = (subscription)=>{\n    const { s: sourceObject, d: derivedObject } = subscription;\n    const derivedObjectEntry = derivedObjectMap.get(derivedObject);\n    derivedObjectEntry == null ? void 0 : derivedObjectEntry[0].delete(subscription);\n    if ((derivedObjectEntry == null ? void 0 : derivedObjectEntry[0].size) === 0) {\n        derivedObjectMap.delete(derivedObject);\n    }\n    const sourceObjectEntry = sourceObjectMap.get(sourceObject);\n    if (sourceObjectEntry) {\n        const [subscriptions, unsubscribe] = sourceObjectEntry;\n        subscriptions.delete(subscription);\n        if (!subscriptions.size) {\n            unsubscribe();\n            sourceObjectMap.delete(sourceObject);\n        }\n    }\n};\nconst listSubscriptions = (derivedObject)=>{\n    const derivedObjectEntry = derivedObjectMap.get(derivedObject);\n    if (derivedObjectEntry) {\n        return Array.from(derivedObjectEntry[0]);\n    }\n    return [];\n};\nconst unstable_deriveSubscriptions = {\n    add: addSubscription,\n    remove: removeSubscription,\n    list: listSubscriptions\n};\nfunction derive(derivedFns, options) {\n    const proxyObject = (options == null ? void 0 : options.proxy) || (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({});\n    const notifyInSync = !!(options == null ? void 0 : options.sync);\n    const derivedKeys = Object.keys(derivedFns);\n    derivedKeys.forEach((key)=>{\n        if (Object.getOwnPropertyDescriptor(proxyObject, key)) {\n            throw new Error(\"object property already defined\");\n        }\n        const fn = derivedFns[key];\n        let lastDependencies = null;\n        const evaluate = ()=>{\n            if (lastDependencies) {\n                if (Array.from(lastDependencies).map(([p])=>checkPending(p, evaluate)).some((isPending)=>isPending)) {\n                    return;\n                }\n                if (Array.from(lastDependencies).every(([p, entry])=>(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.getVersion)(p) === entry.v)) {\n                    return;\n                }\n            }\n            const dependencies = /* @__PURE__ */ new Map();\n            const get = (p)=>{\n                dependencies.set(p, {\n                    v: (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.getVersion)(p)\n                });\n                return p;\n            };\n            const value = fn(get);\n            const subscribeToDependencies = ()=>{\n                dependencies.forEach((entry, p)=>{\n                    var _a;\n                    const lastSubscription = (_a = lastDependencies == null ? void 0 : lastDependencies.get(p)) == null ? void 0 : _a.s;\n                    if (lastSubscription) {\n                        entry.s = lastSubscription;\n                    } else {\n                        const subscription = {\n                            s: p,\n                            // sourceObject\n                            d: proxyObject,\n                            // derivedObject\n                            k: key,\n                            // derived key\n                            c: evaluate,\n                            // callback\n                            n: notifyInSync,\n                            i: derivedKeys\n                        };\n                        addSubscription(subscription);\n                        entry.s = subscription;\n                    }\n                });\n                lastDependencies == null ? void 0 : lastDependencies.forEach((entry, p)=>{\n                    if (!dependencies.has(p) && entry.s) {\n                        removeSubscription(entry.s);\n                    }\n                });\n                lastDependencies = dependencies;\n            };\n            if (value instanceof Promise) {\n                value.finally(subscribeToDependencies);\n            } else {\n                subscribeToDependencies();\n            }\n            proxyObject[key] = value;\n        };\n        evaluate();\n    });\n    return proxyObject;\n}\nfunction underive(proxyObject, options) {\n    const keysToDelete = (options == null ? void 0 : options.delete) ? /* @__PURE__ */ new Set() : null;\n    listSubscriptions(proxyObject).forEach((subscription)=>{\n        const { k: key } = subscription;\n        if (!(options == null ? void 0 : options.keys) || options.keys.includes(key)) {\n            removeSubscription(subscription);\n            if (keysToDelete) {\n                keysToDelete.add(key);\n            }\n        }\n    });\n    if (keysToDelete) {\n        keysToDelete.forEach((key)=>{\n            delete proxyObject[key];\n        });\n    }\n}\nfunction addComputed_DEPRECATED(proxyObject, computedFns_FAKE, targetObject = proxyObject) {\n    if (( false ? 0 : void 0) !== \"production\") {\n        console.warn(\"addComputed is deprecated. Please consider using `derive`. Falling back to emulation with derive. https://github.com/pmndrs/valtio/pull/201\");\n    }\n    const derivedFns = {};\n    Object.keys(computedFns_FAKE).forEach((key)=>{\n        derivedFns[key] = (get)=>computedFns_FAKE[key](get(proxyObject));\n    });\n    return derive(derivedFns, {\n        proxy: targetObject\n    });\n}\nfunction proxyWithComputed_DEPRECATED(initialObject, computedFns) {\n    if (( false ? 0 : void 0) !== \"production\") {\n        console.warn('proxyWithComputed is deprecated. Please follow \"Computed Properties\" guide in docs.');\n    }\n    Object.keys(computedFns).forEach((key)=>{\n        if (Object.getOwnPropertyDescriptor(initialObject, key)) {\n            throw new Error(\"object property already defined\");\n        }\n        const computedFn = computedFns[key];\n        const { get, set } = typeof computedFn === \"function\" ? {\n            get: computedFn\n        } : computedFn;\n        const desc = {};\n        desc.get = ()=>get((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n        if (set) {\n            desc.set = (newValue)=>set(proxyObject, newValue);\n        }\n        Object.defineProperty(initialObject, key, desc);\n    });\n    const proxyObject = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)(initialObject);\n    return proxyObject;\n}\nconst isObject = (x)=>typeof x === \"object\" && x !== null;\nlet refSet;\nconst deepClone = (obj)=>{\n    if (!refSet) {\n        refSet = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.unstable_buildProxyFunction)()[2];\n    }\n    if (!isObject(obj) || refSet.has(obj)) {\n        return obj;\n    }\n    const baseObject = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n    Reflect.ownKeys(obj).forEach((key)=>{\n        baseObject[key] = deepClone(obj[key]);\n    });\n    return baseObject;\n};\nfunction proxyWithHistory(initialValue, skipSubscribe = false) {\n    const proxyObject = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n        value: initialValue,\n        history: (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.ref)({\n            wip: void 0,\n            // to avoid infinite loop\n            snapshots: [],\n            index: -1\n        }),\n        clone: deepClone,\n        canUndo: ()=>proxyObject.history.index > 0,\n        undo: ()=>{\n            if (proxyObject.canUndo()) {\n                proxyObject.value = proxyObject.history.wip = proxyObject.clone(proxyObject.history.snapshots[--proxyObject.history.index]);\n            }\n        },\n        canRedo: ()=>proxyObject.history.index < proxyObject.history.snapshots.length - 1,\n        redo: ()=>{\n            if (proxyObject.canRedo()) {\n                proxyObject.value = proxyObject.history.wip = proxyObject.clone(proxyObject.history.snapshots[++proxyObject.history.index]);\n            }\n        },\n        saveHistory: ()=>{\n            proxyObject.history.snapshots.splice(proxyObject.history.index + 1);\n            proxyObject.history.snapshots.push((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject).value);\n            ++proxyObject.history.index;\n        },\n        subscribe: ()=>(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(proxyObject, (ops)=>{\n                if (ops.every((op)=>op[1][0] === \"value\" && (op[0] !== \"set\" || op[2] !== proxyObject.history.wip))) {\n                    proxyObject.saveHistory();\n                }\n            })\n    });\n    proxyObject.saveHistory();\n    if (!skipSubscribe) {\n        proxyObject.subscribe();\n    }\n    return proxyObject;\n}\nfunction proxySet(initialValues) {\n    const set = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n        data: Array.from(new Set(initialValues)),\n        has (value) {\n            return this.data.indexOf(value) !== -1;\n        },\n        add (value) {\n            let hasProxy = false;\n            if (typeof value === \"object\" && value !== null) {\n                hasProxy = this.data.indexOf((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)(value)) !== -1;\n            }\n            if (this.data.indexOf(value) === -1 && !hasProxy) {\n                this.data.push(value);\n            }\n            return this;\n        },\n        delete (value) {\n            const index = this.data.indexOf(value);\n            if (index === -1) {\n                return false;\n            }\n            this.data.splice(index, 1);\n            return true;\n        },\n        clear () {\n            this.data.splice(0);\n        },\n        get size () {\n            return this.data.length;\n        },\n        forEach (cb) {\n            this.data.forEach((value)=>{\n                cb(value, value, this);\n            });\n        },\n        get [Symbol.toStringTag] () {\n            return \"Set\";\n        },\n        toJSON () {\n            return new Set(this.data);\n        },\n        [Symbol.iterator] () {\n            return this.data[Symbol.iterator]();\n        },\n        values () {\n            return this.data.values();\n        },\n        keys () {\n            return this.data.values();\n        },\n        entries () {\n            return new Set(this.data).entries();\n        }\n    });\n    Object.defineProperties(set, {\n        data: {\n            enumerable: false\n        },\n        size: {\n            enumerable: false\n        },\n        toJSON: {\n            enumerable: false\n        }\n    });\n    Object.seal(set);\n    return set;\n}\nfunction proxyMap(entries) {\n    const map = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n        data: Array.from(entries || []),\n        has (key) {\n            return this.data.some((p)=>p[0] === key);\n        },\n        set (key, value) {\n            const record = this.data.find((p)=>p[0] === key);\n            if (record) {\n                record[1] = value;\n            } else {\n                this.data.push([\n                    key,\n                    value\n                ]);\n            }\n            return this;\n        },\n        get (key) {\n            var _a;\n            return (_a = this.data.find((p)=>p[0] === key)) == null ? void 0 : _a[1];\n        },\n        delete (key) {\n            const index = this.data.findIndex((p)=>p[0] === key);\n            if (index === -1) {\n                return false;\n            }\n            this.data.splice(index, 1);\n            return true;\n        },\n        clear () {\n            this.data.splice(0);\n        },\n        get size () {\n            return this.data.length;\n        },\n        toJSON () {\n            return new Map(this.data);\n        },\n        forEach (cb) {\n            this.data.forEach((p)=>{\n                cb(p[1], p[0], this);\n            });\n        },\n        keys () {\n            return this.data.map((p)=>p[0]).values();\n        },\n        values () {\n            return this.data.map((p)=>p[1]).values();\n        },\n        entries () {\n            return new Map(this.data).entries();\n        },\n        get [Symbol.toStringTag] () {\n            return \"Map\";\n        },\n        [Symbol.iterator] () {\n            return this.entries();\n        }\n    });\n    Object.defineProperties(map, {\n        data: {\n            enumerable: false\n        },\n        size: {\n            enumerable: false\n        },\n        toJSON: {\n            enumerable: false\n        }\n    });\n    Object.seal(map);\n    return map;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdmFsdGlvL2VzbS92YW5pbGxhL3V0aWxzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBMEc7QUFFMUcsU0FBU00sYUFBYUMsV0FBVyxFQUFFQyxHQUFHLEVBQUVDLFFBQVEsRUFBRUMsWUFBWTtJQUM1RCxJQUFJQyxZQUFZSixXQUFXLENBQUNDLElBQUk7SUFDaEMsT0FBT1IseURBQVNBLENBQ2RPLGFBQ0E7UUFDRSxNQUFNSyxZQUFZTCxXQUFXLENBQUNDLElBQUk7UUFDbEMsSUFBSSxDQUFDSyxPQUFPQyxFQUFFLENBQUNILFdBQVdDLFlBQVk7WUFDcENILFNBQVNFLFlBQVlDO1FBQ3ZCO0lBQ0YsR0FDQUY7QUFFSjtBQUVBLElBQUlLO0FBQ0osU0FBU0MsTUFBTVAsUUFBUSxFQUFFUSxPQUFPO0lBQzlCLElBQUlDLFFBQVE7SUFDWixNQUFNQyxXQUFXLGFBQWEsR0FBRyxJQUFJQztJQUNyQyxNQUFNQyxnQkFBZ0IsYUFBYSxHQUFHLElBQUlDO0lBQzFDLE1BQU1DLFVBQVU7UUFDZCxJQUFJTCxPQUFPO1lBQ1RBLFFBQVE7WUFDUkMsU0FBU0ssT0FBTyxDQUFDLENBQUNDLFFBQVVBO1lBQzVCTixTQUFTTyxLQUFLO1lBQ2RMLGNBQWNHLE9BQU8sQ0FBQyxDQUFDRyxjQUFnQkE7WUFDdkNOLGNBQWNLLEtBQUs7UUFDckI7SUFDRjtJQUNBLE1BQU1FLGFBQWE7UUFDakIsSUFBSSxDQUFDVixPQUFPO1lBQ1Y7UUFDRjtRQUNBQyxTQUFTSyxPQUFPLENBQUMsQ0FBQ0MsUUFBVUE7UUFDNUJOLFNBQVNPLEtBQUs7UUFDZCxNQUFNRyxxQkFBcUIsYUFBYSxHQUFHLElBQUlUO1FBQy9DLE1BQU1VLFNBQVNmO1FBQ2ZBLGtCQUFrQkk7UUFDbEIsSUFBSTtZQUNGLE1BQU1ZLGdCQUFnQnRCLFNBQVMsQ0FBQ0Y7Z0JBQzlCc0IsbUJBQW1CRyxHQUFHLENBQUN6QjtnQkFDdkIsT0FBT0E7WUFDVDtZQUNBLElBQUl3QixlQUFlO2dCQUNqQlosU0FBU2EsR0FBRyxDQUFDRDtZQUNmO1FBQ0YsU0FBVTtZQUNSaEIsa0JBQWtCZTtRQUNwQjtRQUNBVCxjQUFjRyxPQUFPLENBQUMsQ0FBQ0csYUFBYXBCO1lBQ2xDLElBQUlzQixtQkFBbUJJLEdBQUcsQ0FBQzFCLGNBQWM7Z0JBQ3ZDc0IsbUJBQW1CSyxNQUFNLENBQUMzQjtZQUM1QixPQUFPO2dCQUNMYyxjQUFjYSxNQUFNLENBQUMzQjtnQkFDckJvQjtZQUNGO1FBQ0Y7UUFDQUUsbUJBQW1CTCxPQUFPLENBQUMsQ0FBQ2pCO1lBQzFCLE1BQU1vQixjQUFjM0IseURBQVNBLENBQUNPLGFBQWFxQixZQUFZWCxXQUFXLE9BQU8sS0FBSyxJQUFJQSxRQUFRa0IsSUFBSTtZQUM5RmQsY0FBY2UsR0FBRyxDQUFDN0IsYUFBYW9CO1FBQ2pDO0lBQ0Y7SUFDQSxJQUFJWixpQkFBaUI7UUFDbkJBLGdCQUFnQmlCLEdBQUcsQ0FBQ1Q7SUFDdEI7SUFDQUs7SUFDQSxPQUFPTDtBQUNUO0FBRUEsTUFBTWMsV0FBV0M7QUFDakIsU0FBU0MsU0FBU2hDLFdBQVcsRUFBRVUsT0FBTztJQUNwQyxJQUFJLE9BQU9BLFlBQVksVUFBVTtRQUMvQnVCLFFBQVFDLElBQUksQ0FDVjtRQUVGeEIsVUFBVTtZQUFFeUIsTUFBTXpCO1FBQVE7SUFDNUI7SUFDQSxNQUFNLEVBQUUwQixPQUFPLEVBQUVELE9BQU8sRUFBRSxFQUFFLEdBQUdFLE1BQU0sR0FBRzNCLFdBQVcsQ0FBQztJQUNwRCxJQUFJNEI7SUFDSixJQUFJO1FBQ0ZBLFlBQVksQ0FBQ0YsV0FBVyxPQUFPQSxVQUFVLENBQUMsTUFBZSxHQUFHLENBQW9CLEdBQUcsS0FBSyxPQUFPLFlBQVcsS0FBTUssT0FBT0MsNEJBQTRCO0lBQ3JKLEVBQUUsT0FBTSxDQUNSO0lBQ0EsSUFBSSxDQUFDSixXQUFXO1FBQ2QsSUFBSSxDQUFDLE1BQWUsR0FBRyxDQUFvQixHQUFHLEtBQUssT0FBTyxnQkFBZ0JGLFNBQVM7WUFDakZILFFBQVFDLElBQUksQ0FBQztRQUNmO1FBQ0E7SUFDRjtJQUNBLElBQUlTLGtCQUFrQjtJQUN0QixNQUFNQyxZQUFZTixVQUFVTyxPQUFPLENBQUM7UUFBRVY7UUFBTSxHQUFHRSxJQUFJO0lBQUM7SUFDcEQsTUFBTVMsU0FBU3JELHlEQUFTQSxDQUFDTyxhQUFhLENBQUMrQztRQUNyQyxNQUFNQyxTQUFTRCxJQUFJRSxNQUFNLENBQUMsQ0FBQyxDQUFDQyxHQUFHQyxLQUFLLEdBQUtBLElBQUksQ0FBQyxFQUFFLEtBQUtyQixVQUFVc0IsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsSUFBSUYsS0FBSyxHQUFLLENBQUMsRUFBRUUsR0FBRyxDQUFDLEVBQUVGLEtBQUtDLEdBQUcsQ0FBQ0UsUUFBUUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFQSxJQUFJLENBQUM7UUFDL0gsSUFBSSxDQUFDUCxRQUFRO1lBQ1g7UUFDRjtRQUNBLElBQUlMLGlCQUFpQjtZQUNuQkEsa0JBQWtCO1FBQ3BCLE9BQU87WUFDTCxNQUFNYSxzQkFBc0JsRCxPQUFPbUQsTUFBTSxDQUFDLENBQUMsR0FBRy9ELHdEQUFRQSxDQUFDTTtZQUN2RCxPQUFPd0QsbUJBQW1CLENBQUMxQixTQUFTO1lBQ3BDYyxVQUFVYyxJQUFJLENBQ1o7Z0JBQ0VDLE1BQU1YO2dCQUNOWSxXQUFXLGFBQWMsR0FBRyxJQUFJQyxPQUFRQyxjQUFjO1lBQ3hELEdBQ0FOO1FBRUo7SUFDRjtJQUNBLE1BQU1PLFNBQVNuQixVQUFVbkQsU0FBUyxDQUFDLENBQUN1RTtRQUNsQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQztRQUN4QixJQUFJTixRQUFRTCxJQUFJLEtBQUssWUFBWUssUUFBUU8sT0FBTyxFQUFFO1lBQ2hELElBQUk7Z0JBQ0ZqRSxPQUFPbUQsTUFBTSxDQUFDekQsYUFBYXdFLEtBQUtDLEtBQUssQ0FBQ1QsUUFBUU8sT0FBTztZQUN2RCxFQUFFLE9BQU9HLEdBQUc7Z0JBQ1Z6QyxRQUFRMEMsS0FBSyxDQUNYLGdGQUNBRDtZQUVKO1FBQ0Y7UUFDQSxJQUFJVixRQUFRTCxJQUFJLEtBQUssY0FBY0ssUUFBUVksS0FBSyxFQUFFO1lBQ2hELElBQUksQ0FBQyxDQUFDWCxLQUFLRCxRQUFRTyxPQUFPLEtBQUssT0FBTyxLQUFLLElBQUlOLEdBQUdOLElBQUksTUFBTSxvQkFBb0IsQ0FBQyxDQUFDTyxLQUFLRixRQUFRTyxPQUFPLEtBQUssT0FBTyxLQUFLLElBQUlMLEdBQUdQLElBQUksTUFBTSxpQkFBaUI7Z0JBQ3ZKaEIsa0JBQWtCO2dCQUNsQixNQUFNaUMsUUFBUUosS0FBS0MsS0FBSyxDQUFDVCxRQUFRWSxLQUFLO2dCQUN0Q3RFLE9BQU9tRCxNQUFNLENBQUN6RCxhQUFhNEU7WUFDN0I7WUFDQTVFLFdBQVcsQ0FBQzhCLFNBQVMsR0FBR2tDO1FBQzFCLE9BQU8sSUFBSUEsUUFBUUwsSUFBSSxLQUFLLGNBQWMsQ0FBQyxDQUFDUSxLQUFLSCxRQUFRTyxPQUFPLEtBQUssT0FBTyxLQUFLLElBQUlKLEdBQUdSLElBQUksTUFBTSxVQUFVO1lBQzFHZixVQUFVaUMsSUFBSSxDQUFDbkYsd0RBQVFBLENBQUNNO1FBQzFCLE9BQU8sSUFBSWdFLFFBQVFMLElBQUksS0FBSyxjQUFjLENBQUMsQ0FBQ1MsS0FBS0osUUFBUU8sT0FBTyxLQUFLLE9BQU8sS0FBSyxJQUFJSCxHQUFHVCxJQUFJLE1BQU0sZ0JBQWdCO1lBQ2hILE1BQU1tQixVQUFVLENBQUNULEtBQUtMLFFBQVFPLE9BQU8sQ0FBQ1EsZUFBZSxLQUFLLE9BQU8sS0FBSyxJQUFJVixHQUFHVyxXQUFXO1lBQ3hGLE1BQU1DLGlCQUFpQixDQUFDLENBQUNYLEtBQUtOLFFBQVFPLE9BQU8sQ0FBQ1EsZUFBZSxLQUFLLE9BQU8sS0FBSyxJQUFJVCxHQUFHVyxjQUFjLEtBQUssRUFBRTtZQUMxR3RDLGtCQUFrQjtZQUNsQnNDLGVBQWVoRSxPQUFPLENBQUMsQ0FBQyxFQUFFMkQsS0FBSyxFQUFFLEVBQUVNO2dCQUNqQyxNQUFNbEMsU0FBUzhCLE9BQU8sQ0FBQ0ksTUFBTSxJQUFJO2dCQUNqQzVFLE9BQU9tRCxNQUFNLENBQUN6RCxhQUFhNEU7Z0JBQzNCLElBQUlNLFVBQVUsR0FBRztvQkFDZnRDLFVBQVVpQyxJQUFJLENBQUNuRix3REFBUUEsQ0FBQ007Z0JBQzFCLE9BQU87b0JBQ0w0QyxVQUFVYyxJQUFJLENBQUNWLFFBQVF0RCx3REFBUUEsQ0FBQ007Z0JBQ2xDO1lBQ0Y7UUFDRjtJQUNGO0lBQ0E0QyxVQUFVaUMsSUFBSSxDQUFDbkYsd0RBQVFBLENBQUNNO0lBQ3hCLE9BQU87UUFDTDhDO1FBQ0FpQixVQUFVLE9BQU8sS0FBSyxJQUFJQTtJQUM1QjtBQUNGO0FBRUEsTUFBTW9CLGtCQUFrQixhQUFhLEdBQUcsSUFBSUM7QUFDNUMsTUFBTUMsbUJBQW1CLGFBQWEsR0FBRyxJQUFJRDtBQUM3QyxNQUFNRSxjQUFjLENBQUNDLGNBQWNyRjtJQUNqQyxNQUFNc0Ysb0JBQW9CTCxnQkFBZ0JNLEdBQUcsQ0FBQ0Y7SUFDOUMsSUFBSUMsbUJBQW1CO1FBQ3JCQSxpQkFBaUIsQ0FBQyxFQUFFLENBQUN2RSxPQUFPLENBQUMsQ0FBQ3lFO1lBQzVCLE1BQU0sRUFBRUMsR0FBR0MsYUFBYSxFQUFFLEdBQUdGO1lBQzdCLElBQUlILGlCQUFpQkssZUFBZTtnQkFDbENOLFlBQVlNO1lBQ2Q7UUFDRjtRQUNBLEVBQUVKLGlCQUFpQixDQUFDLEVBQUU7UUFDdEIsSUFBSXRGLFVBQVU7WUFDWnNGLGlCQUFpQixDQUFDLEVBQUUsQ0FBQy9ELEdBQUcsQ0FBQ3ZCO1FBQzNCO0lBQ0Y7QUFDRjtBQUNBLE1BQU0yRixlQUFlLENBQUNOLGNBQWNyRjtJQUNsQyxNQUFNc0Ysb0JBQW9CTCxnQkFBZ0JNLEdBQUcsQ0FBQ0Y7SUFDOUMsSUFBSUMscUJBQXFCLE9BQU8sS0FBSyxJQUFJQSxpQkFBaUIsQ0FBQyxFQUFFLEVBQUU7UUFDN0RBLGlCQUFpQixDQUFDLEVBQUUsQ0FBQy9ELEdBQUcsQ0FBQ3ZCO1FBQ3pCLE9BQU87SUFDVDtJQUNBLE9BQU87QUFDVDtBQUNBLE1BQU00RixnQkFBZ0IsQ0FBQ1A7SUFDckIsTUFBTUMsb0JBQW9CTCxnQkFBZ0JNLEdBQUcsQ0FBQ0Y7SUFDOUMsSUFBSUMsbUJBQW1CO1FBQ3JCLEVBQUVBLGlCQUFpQixDQUFDLEVBQUU7UUFDdEIsSUFBSSxDQUFDQSxpQkFBaUIsQ0FBQyxFQUFFLEVBQUU7WUFDekJBLGlCQUFpQixDQUFDLEVBQUUsQ0FBQ3ZFLE9BQU8sQ0FBQyxDQUFDZixXQUFhQTtZQUMzQ3NGLGlCQUFpQixDQUFDLEVBQUUsQ0FBQ3JFLEtBQUs7UUFDNUI7UUFDQXFFLGlCQUFpQixDQUFDLEVBQUUsQ0FBQ3ZFLE9BQU8sQ0FBQyxDQUFDeUU7WUFDNUIsTUFBTSxFQUFFQyxHQUFHQyxhQUFhLEVBQUUsR0FBR0Y7WUFDN0IsSUFBSUgsaUJBQWlCSyxlQUFlO2dCQUNsQ0UsY0FBY0Y7WUFDaEI7UUFDRjtJQUNGO0FBQ0Y7QUFDQSxNQUFNRyxrQkFBa0IsQ0FBQ0w7SUFDdkIsTUFBTSxFQUFFTSxHQUFHVCxZQUFZLEVBQUVJLEdBQUdDLGFBQWEsRUFBRSxHQUFHRjtJQUM5QyxJQUFJTyxxQkFBcUJaLGlCQUFpQkksR0FBRyxDQUFDRztJQUM5QyxJQUFJLENBQUNLLG9CQUFvQjtRQUN2QkEscUJBQXFCO1lBQUMsYUFBYSxHQUFHLElBQUlwRjtTQUFNO1FBQ2hEd0UsaUJBQWlCeEQsR0FBRyxDQUFDNkQsYUFBYUMsQ0FBQyxFQUFFTTtJQUN2QztJQUNBQSxrQkFBa0IsQ0FBQyxFQUFFLENBQUN4RSxHQUFHLENBQUNpRTtJQUMxQixJQUFJRixvQkFBb0JMLGdCQUFnQk0sR0FBRyxDQUFDRjtJQUM1QyxJQUFJLENBQUNDLG1CQUFtQjtRQUN0QixNQUFNMUUsZ0JBQWdCLGFBQWEsR0FBRyxJQUFJRDtRQUMxQyxNQUFNTyxjQUFjM0IseURBQVNBLENBQzNCOEYsY0FDQSxDQUFDeEM7WUFDQ2pDLGNBQWNHLE9BQU8sQ0FBQyxDQUFDaUY7Z0JBQ3JCLE1BQU0sRUFDSlAsR0FBR1EsY0FBYyxFQUNqQkMsR0FBR2xHLFFBQVEsRUFDWG1HLEdBQUdsRyxZQUFZLEVBQ2ZtRyxHQUFHQyxVQUFVLEVBQ2QsR0FBR0w7Z0JBQ0osSUFBSVgsaUJBQWlCWSxrQkFBa0JwRCxJQUFJeUQsS0FBSyxDQUM5QyxDQUFDbkQsS0FBT0EsRUFBRSxDQUFDLEVBQUUsQ0FBQ29ELE1BQU0sS0FBSyxLQUFLRixXQUFXRyxRQUFRLENBQUNyRCxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFDekQ7b0JBQ0Q7Z0JBQ0Y7Z0JBQ0EsSUFBSTZDLGNBQWNTLENBQUMsRUFBRTtvQkFDbkI7Z0JBQ0Y7Z0JBQ0FyQixZQUFZQyxjQUFjckY7Z0JBQzFCLElBQUlDLGNBQWM7b0JBQ2hCMkYsY0FBY1A7Z0JBQ2hCLE9BQU87b0JBQ0xXLGNBQWNTLENBQUMsR0FBR0MsUUFBUUMsT0FBTyxHQUFHQyxJQUFJLENBQUM7d0JBQ3ZDLE9BQU9aLGNBQWNTLENBQUM7d0JBQ3RCYixjQUFjUDtvQkFDaEI7Z0JBQ0Y7WUFDRjtRQUNGLEdBQ0E7UUFFRkMsb0JBQW9CO1lBQUMxRTtZQUFlTTtZQUFhO1lBQUcsYUFBYSxHQUFHLElBQUlQO1NBQU07UUFDOUVzRSxnQkFBZ0J0RCxHQUFHLENBQUMwRCxjQUFjQztJQUNwQztJQUNBQSxpQkFBaUIsQ0FBQyxFQUFFLENBQUMvRCxHQUFHLENBQUNpRTtBQUMzQjtBQUNBLE1BQU1xQixxQkFBcUIsQ0FBQ3JCO0lBQzFCLE1BQU0sRUFBRU0sR0FBR1QsWUFBWSxFQUFFSSxHQUFHQyxhQUFhLEVBQUUsR0FBR0Y7SUFDOUMsTUFBTU8scUJBQXFCWixpQkFBaUJJLEdBQUcsQ0FBQ0c7SUFDaERLLHNCQUFzQixPQUFPLEtBQUssSUFBSUEsa0JBQWtCLENBQUMsRUFBRSxDQUFDdEUsTUFBTSxDQUFDK0Q7SUFDbkUsSUFBSSxDQUFDTyxzQkFBc0IsT0FBTyxLQUFLLElBQUlBLGtCQUFrQixDQUFDLEVBQUUsQ0FBQ2UsSUFBSSxNQUFNLEdBQUc7UUFDNUUzQixpQkFBaUIxRCxNQUFNLENBQUNpRTtJQUMxQjtJQUNBLE1BQU1KLG9CQUFvQkwsZ0JBQWdCTSxHQUFHLENBQUNGO0lBQzlDLElBQUlDLG1CQUFtQjtRQUNyQixNQUFNLENBQUMxRSxlQUFlTSxZQUFZLEdBQUdvRTtRQUNyQzFFLGNBQWNhLE1BQU0sQ0FBQytEO1FBQ3JCLElBQUksQ0FBQzVFLGNBQWNrRyxJQUFJLEVBQUU7WUFDdkI1RjtZQUNBK0QsZ0JBQWdCeEQsTUFBTSxDQUFDNEQ7UUFDekI7SUFDRjtBQUNGO0FBQ0EsTUFBTTBCLG9CQUFvQixDQUFDckI7SUFDekIsTUFBTUsscUJBQXFCWixpQkFBaUJJLEdBQUcsQ0FBQ0c7SUFDaEQsSUFBSUssb0JBQW9CO1FBQ3RCLE9BQU9pQixNQUFNQyxJQUFJLENBQUNsQixrQkFBa0IsQ0FBQyxFQUFFO0lBQ3pDO0lBQ0EsT0FBTyxFQUFFO0FBQ1g7QUFDQSxNQUFNbUIsK0JBQStCO0lBQ25DM0YsS0FBS3NFO0lBQ0xzQixRQUFRTjtJQUNSTyxNQUFNTDtBQUNSO0FBQ0EsU0FBU00sT0FBT0MsVUFBVSxFQUFFOUcsT0FBTztJQUNqQyxNQUFNVixjQUFjLENBQUNVLFdBQVcsT0FBTyxLQUFLLElBQUlBLFFBQVFmLEtBQUssS0FBS0EscURBQUtBLENBQUMsQ0FBQztJQUN6RSxNQUFNUSxlQUFlLENBQUMsQ0FBRU8sQ0FBQUEsV0FBVyxPQUFPLEtBQUssSUFBSUEsUUFBUWtCLElBQUk7SUFDL0QsTUFBTTZGLGNBQWNuSCxPQUFPb0gsSUFBSSxDQUFDRjtJQUNoQ0MsWUFBWXhHLE9BQU8sQ0FBQyxDQUFDaEI7UUFDbkIsSUFBSUssT0FBT3FILHdCQUF3QixDQUFDM0gsYUFBYUMsTUFBTTtZQUNyRCxNQUFNLElBQUkySCxNQUFNO1FBQ2xCO1FBQ0EsTUFBTUMsS0FBS0wsVUFBVSxDQUFDdkgsSUFBSTtRQUMxQixJQUFJNkgsbUJBQW1CO1FBQ3ZCLE1BQU1DLFdBQVc7WUFDZixJQUFJRCxrQkFBa0I7Z0JBQ3BCLElBQUlaLE1BQU1DLElBQUksQ0FBQ1csa0JBQWtCMUUsR0FBRyxDQUFDLENBQUMsQ0FBQ3VELEVBQUUsR0FBS2QsYUFBYWMsR0FBR29CLFdBQVdDLElBQUksQ0FBQyxDQUFDQyxZQUFjQSxZQUFZO29CQUN2RztnQkFDRjtnQkFDQSxJQUFJZixNQUFNQyxJQUFJLENBQUNXLGtCQUFrQnRCLEtBQUssQ0FDcEMsQ0FBQyxDQUFDRyxHQUFHdUIsTUFBTSxHQUFLdEksMERBQVVBLENBQUMrRyxPQUFPdUIsTUFBTUMsQ0FBQyxHQUN4QztvQkFDRDtnQkFDRjtZQUNGO1lBQ0EsTUFBTUMsZUFBZSxhQUFhLEdBQUcsSUFBSXJIO1lBQ3pDLE1BQU0wRSxNQUFNLENBQUNrQjtnQkFDWHlCLGFBQWF2RyxHQUFHLENBQUM4RSxHQUFHO29CQUFFd0IsR0FBR3ZJLDBEQUFVQSxDQUFDK0c7Z0JBQUc7Z0JBQ3ZDLE9BQU9BO1lBQ1Q7WUFDQSxNQUFNMEIsUUFBUVIsR0FBR3BDO1lBQ2pCLE1BQU02QywwQkFBMEI7Z0JBQzlCRixhQUFhbkgsT0FBTyxDQUFDLENBQUNpSCxPQUFPdkI7b0JBQzNCLElBQUkxQztvQkFDSixNQUFNc0UsbUJBQW1CLENBQUN0RSxLQUFLNkQsb0JBQW9CLE9BQU8sS0FBSyxJQUFJQSxpQkFBaUJyQyxHQUFHLENBQUNrQixFQUFDLEtBQU0sT0FBTyxLQUFLLElBQUkxQyxHQUFHK0IsQ0FBQztvQkFDbkgsSUFBSXVDLGtCQUFrQjt3QkFDcEJMLE1BQU1sQyxDQUFDLEdBQUd1QztvQkFDWixPQUFPO3dCQUNMLE1BQU03QyxlQUFlOzRCQUNuQk0sR0FBR1c7NEJBQ0gsZUFBZTs0QkFDZmhCLEdBQUczRjs0QkFDSCxnQkFBZ0I7NEJBQ2hCd0ksR0FBR3ZJOzRCQUNILGNBQWM7NEJBQ2RtRyxHQUFHMkI7NEJBQ0gsV0FBVzs0QkFDWDFCLEdBQUdsRzs0QkFDSG1HLEdBQUdtQjt3QkFFTDt3QkFDQTFCLGdCQUFnQkw7d0JBQ2hCd0MsTUFBTWxDLENBQUMsR0FBR047b0JBQ1o7Z0JBQ0Y7Z0JBQ0FvQyxvQkFBb0IsT0FBTyxLQUFLLElBQUlBLGlCQUFpQjdHLE9BQU8sQ0FBQyxDQUFDaUgsT0FBT3ZCO29CQUNuRSxJQUFJLENBQUN5QixhQUFhMUcsR0FBRyxDQUFDaUYsTUFBTXVCLE1BQU1sQyxDQUFDLEVBQUU7d0JBQ25DZSxtQkFBbUJtQixNQUFNbEMsQ0FBQztvQkFDNUI7Z0JBQ0Y7Z0JBQ0E4QixtQkFBbUJNO1lBQ3JCO1lBQ0EsSUFBSUMsaUJBQWlCekIsU0FBUztnQkFDNUJ5QixNQUFNSSxPQUFPLENBQUNIO1lBQ2hCLE9BQU87Z0JBQ0xBO1lBQ0Y7WUFDQXRJLFdBQVcsQ0FBQ0MsSUFBSSxHQUFHb0k7UUFDckI7UUFDQU47SUFDRjtJQUNBLE9BQU8vSDtBQUNUO0FBQ0EsU0FBUzBJLFNBQVMxSSxXQUFXLEVBQUVVLE9BQU87SUFDcEMsTUFBTWlJLGVBQWUsQ0FBQ2pJLFdBQVcsT0FBTyxLQUFLLElBQUlBLFFBQVFpQixNQUFNLElBQUksYUFBYSxHQUFHLElBQUlkLFFBQVE7SUFDL0ZvRyxrQkFBa0JqSCxhQUFhaUIsT0FBTyxDQUFDLENBQUN5RTtRQUN0QyxNQUFNLEVBQUU4QyxHQUFHdkksR0FBRyxFQUFFLEdBQUd5RjtRQUNuQixJQUFJLENBQUVoRixDQUFBQSxXQUFXLE9BQU8sS0FBSyxJQUFJQSxRQUFRZ0gsSUFBSSxLQUFLaEgsUUFBUWdILElBQUksQ0FBQ2hCLFFBQVEsQ0FBQ3pHLE1BQU07WUFDNUU4RyxtQkFBbUJyQjtZQUNuQixJQUFJaUQsY0FBYztnQkFDaEJBLGFBQWFsSCxHQUFHLENBQUN4QjtZQUNuQjtRQUNGO0lBQ0Y7SUFDQSxJQUFJMEksY0FBYztRQUNoQkEsYUFBYTFILE9BQU8sQ0FBQyxDQUFDaEI7WUFDcEIsT0FBT0QsV0FBVyxDQUFDQyxJQUFJO1FBQ3pCO0lBQ0Y7QUFDRjtBQUVBLFNBQVMySSx1QkFBdUI1SSxXQUFXLEVBQUU2SSxnQkFBZ0IsRUFBRUMsZUFBZTlJLFdBQVc7SUFDdkYsSUFBSSxDQUFDLE1BQWUsR0FBRyxDQUFvQixHQUFHLEtBQUssT0FBTyxjQUFjO1FBQ3RFaUMsUUFBUUMsSUFBSSxDQUNWO0lBRUo7SUFDQSxNQUFNc0YsYUFBYSxDQUFDO0lBQ3BCbEgsT0FBT29ILElBQUksQ0FBQ21CLGtCQUFrQjVILE9BQU8sQ0FBQyxDQUFDaEI7UUFDckN1SCxVQUFVLENBQUN2SCxJQUFJLEdBQUcsQ0FBQ3dGLE1BQVFvRCxnQkFBZ0IsQ0FBQzVJLElBQUksQ0FBQ3dGLElBQUl6RjtJQUN2RDtJQUNBLE9BQU91SCxPQUFPQyxZQUFZO1FBQUU3SCxPQUFPbUo7SUFBYTtBQUNsRDtBQUVBLFNBQVNDLDZCQUE2QkMsYUFBYSxFQUFFQyxXQUFXO0lBQzlELElBQUksQ0FBQyxNQUFlLEdBQUcsQ0FBb0IsR0FBRyxLQUFLLE9BQU8sY0FBYztRQUN0RWhILFFBQVFDLElBQUksQ0FDVjtJQUVKO0lBQ0E1QixPQUFPb0gsSUFBSSxDQUFDdUIsYUFBYWhJLE9BQU8sQ0FBQyxDQUFDaEI7UUFDaEMsSUFBSUssT0FBT3FILHdCQUF3QixDQUFDcUIsZUFBZS9JLE1BQU07WUFDdkQsTUFBTSxJQUFJMkgsTUFBTTtRQUNsQjtRQUNBLE1BQU1zQixhQUFhRCxXQUFXLENBQUNoSixJQUFJO1FBQ25DLE1BQU0sRUFBRXdGLEdBQUcsRUFBRTVELEdBQUcsRUFBRSxHQUFHLE9BQU9xSCxlQUFlLGFBQWE7WUFBRXpELEtBQUt5RDtRQUFXLElBQUlBO1FBQzlFLE1BQU1DLE9BQU8sQ0FBQztRQUNkQSxLQUFLMUQsR0FBRyxHQUFHLElBQU1BLElBQUkvRix3REFBUUEsQ0FBQ007UUFDOUIsSUFBSTZCLEtBQUs7WUFDUHNILEtBQUt0SCxHQUFHLEdBQUcsQ0FBQ3VILFdBQWF2SCxJQUFJN0IsYUFBYW9KO1FBQzVDO1FBQ0E5SSxPQUFPK0ksY0FBYyxDQUFDTCxlQUFlL0ksS0FBS2tKO0lBQzVDO0lBQ0EsTUFBTW5KLGNBQWNMLHFEQUFLQSxDQUFDcUo7SUFDMUIsT0FBT2hKO0FBQ1Q7QUFFQSxNQUFNc0osV0FBVyxDQUFDQyxJQUFNLE9BQU9BLE1BQU0sWUFBWUEsTUFBTTtBQUN2RCxJQUFJQztBQUNKLE1BQU1DLFlBQVksQ0FBQ0M7SUFDakIsSUFBSSxDQUFDRixRQUFRO1FBQ1hBLFNBQVMxSiwyRUFBMkJBLEVBQUUsQ0FBQyxFQUFFO0lBQzNDO0lBQ0EsSUFBSSxDQUFDd0osU0FBU0ksUUFBUUYsT0FBTzlILEdBQUcsQ0FBQ2dJLE1BQU07UUFDckMsT0FBT0E7SUFDVDtJQUNBLE1BQU1DLGFBQWF6QyxNQUFNMEMsT0FBTyxDQUFDRixPQUFPLEVBQUUsR0FBR3BKLE9BQU91SixNQUFNLENBQUN2SixPQUFPd0osY0FBYyxDQUFDSjtJQUNqRkssUUFBUUMsT0FBTyxDQUFDTixLQUFLekksT0FBTyxDQUFDLENBQUNoQjtRQUM1QjBKLFVBQVUsQ0FBQzFKLElBQUksR0FBR3dKLFVBQVVDLEdBQUcsQ0FBQ3pKLElBQUk7SUFDdEM7SUFDQSxPQUFPMEo7QUFDVDtBQUNBLFNBQVNNLGlCQUFpQkMsWUFBWSxFQUFFQyxnQkFBZ0IsS0FBSztJQUMzRCxNQUFNbkssY0FBY0wscURBQUtBLENBQUM7UUFDeEIwSSxPQUFPNkI7UUFDUEUsU0FBU3ZLLG1EQUFHQSxDQUFDO1lBQ1h3SyxLQUFLLEtBQUs7WUFDVix5QkFBeUI7WUFDekJDLFdBQVcsRUFBRTtZQUNicEYsT0FBTyxDQUFDO1FBQ1Y7UUFDQXFGLE9BQU9kO1FBQ1BlLFNBQVMsSUFBTXhLLFlBQVlvSyxPQUFPLENBQUNsRixLQUFLLEdBQUc7UUFDM0N1RixNQUFNO1lBQ0osSUFBSXpLLFlBQVl3SyxPQUFPLElBQUk7Z0JBQ3pCeEssWUFBWXFJLEtBQUssR0FBR3JJLFlBQVlvSyxPQUFPLENBQUNDLEdBQUcsR0FBR3JLLFlBQVl1SyxLQUFLLENBQzdEdkssWUFBWW9LLE9BQU8sQ0FBQ0UsU0FBUyxDQUFDLEVBQUV0SyxZQUFZb0ssT0FBTyxDQUFDbEYsS0FBSyxDQUFDO1lBRTlEO1FBQ0Y7UUFDQXdGLFNBQVMsSUFBTTFLLFlBQVlvSyxPQUFPLENBQUNsRixLQUFLLEdBQUdsRixZQUFZb0ssT0FBTyxDQUFDRSxTQUFTLENBQUM3RCxNQUFNLEdBQUc7UUFDbEZrRSxNQUFNO1lBQ0osSUFBSTNLLFlBQVkwSyxPQUFPLElBQUk7Z0JBQ3pCMUssWUFBWXFJLEtBQUssR0FBR3JJLFlBQVlvSyxPQUFPLENBQUNDLEdBQUcsR0FBR3JLLFlBQVl1SyxLQUFLLENBQzdEdkssWUFBWW9LLE9BQU8sQ0FBQ0UsU0FBUyxDQUFDLEVBQUV0SyxZQUFZb0ssT0FBTyxDQUFDbEYsS0FBSyxDQUFDO1lBRTlEO1FBQ0Y7UUFDQTBGLGFBQWE7WUFDWDVLLFlBQVlvSyxPQUFPLENBQUNFLFNBQVMsQ0FBQ08sTUFBTSxDQUFDN0ssWUFBWW9LLE9BQU8sQ0FBQ2xGLEtBQUssR0FBRztZQUNqRWxGLFlBQVlvSyxPQUFPLENBQUNFLFNBQVMsQ0FBQ1EsSUFBSSxDQUFDcEwsd0RBQVFBLENBQUNNLGFBQWFxSSxLQUFLO1lBQzlELEVBQUVySSxZQUFZb0ssT0FBTyxDQUFDbEYsS0FBSztRQUM3QjtRQUNBekYsV0FBVyxJQUFNQSx5REFBU0EsQ0FBQ08sYUFBYSxDQUFDK0M7Z0JBQ3ZDLElBQUlBLElBQUl5RCxLQUFLLENBQ1gsQ0FBQ25ELEtBQU9BLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLFdBQVlBLENBQUFBLEVBQUUsQ0FBQyxFQUFFLEtBQUssU0FBU0EsRUFBRSxDQUFDLEVBQUUsS0FBS3JELFlBQVlvSyxPQUFPLENBQUNDLEdBQUcsSUFDcEY7b0JBQ0RySyxZQUFZNEssV0FBVztnQkFDekI7WUFDRjtJQUNGO0lBQ0E1SyxZQUFZNEssV0FBVztJQUN2QixJQUFJLENBQUNULGVBQWU7UUFDbEJuSyxZQUFZUCxTQUFTO0lBQ3ZCO0lBQ0EsT0FBT087QUFDVDtBQUVBLFNBQVMrSyxTQUFTQyxhQUFhO0lBQzdCLE1BQU1uSixNQUFNbEMscURBQUtBLENBQUM7UUFDaEJzTCxNQUFNL0QsTUFBTUMsSUFBSSxDQUFDLElBQUl0RyxJQUFJbUs7UUFDekJ0SixLQUFJMkcsS0FBSztZQUNQLE9BQU8sSUFBSSxDQUFDNEMsSUFBSSxDQUFDQyxPQUFPLENBQUM3QyxXQUFXLENBQUM7UUFDdkM7UUFDQTVHLEtBQUk0RyxLQUFLO1lBQ1AsSUFBSThDLFdBQVc7WUFDZixJQUFJLE9BQU85QyxVQUFVLFlBQVlBLFVBQVUsTUFBTTtnQkFDL0M4QyxXQUFXLElBQUksQ0FBQ0YsSUFBSSxDQUFDQyxPQUFPLENBQUN2TCxxREFBS0EsQ0FBQzBJLFlBQVksQ0FBQztZQUNsRDtZQUNBLElBQUksSUFBSSxDQUFDNEMsSUFBSSxDQUFDQyxPQUFPLENBQUM3QyxXQUFXLENBQUMsS0FBSyxDQUFDOEMsVUFBVTtnQkFDaEQsSUFBSSxDQUFDRixJQUFJLENBQUNILElBQUksQ0FBQ3pDO1lBQ2pCO1lBQ0EsT0FBTyxJQUFJO1FBQ2I7UUFDQTFHLFFBQU8wRyxLQUFLO1lBQ1YsTUFBTW5ELFFBQVEsSUFBSSxDQUFDK0YsSUFBSSxDQUFDQyxPQUFPLENBQUM3QztZQUNoQyxJQUFJbkQsVUFBVSxDQUFDLEdBQUc7Z0JBQ2hCLE9BQU87WUFDVDtZQUNBLElBQUksQ0FBQytGLElBQUksQ0FBQ0osTUFBTSxDQUFDM0YsT0FBTztZQUN4QixPQUFPO1FBQ1Q7UUFDQS9EO1lBQ0UsSUFBSSxDQUFDOEosSUFBSSxDQUFDSixNQUFNLENBQUM7UUFDbkI7UUFDQSxJQUFJN0QsUUFBTztZQUNULE9BQU8sSUFBSSxDQUFDaUUsSUFBSSxDQUFDeEUsTUFBTTtRQUN6QjtRQUNBeEYsU0FBUW1LLEVBQUU7WUFDUixJQUFJLENBQUNILElBQUksQ0FBQ2hLLE9BQU8sQ0FBQyxDQUFDb0g7Z0JBQ2pCK0MsR0FBRy9DLE9BQU9BLE9BQU8sSUFBSTtZQUN2QjtRQUNGO1FBQ0EsSUFBSSxDQUFDdEcsT0FBT3NKLFdBQVcsQ0FBQyxJQUFHO1lBQ3pCLE9BQU87UUFDVDtRQUNBQztZQUNFLE9BQU8sSUFBSXpLLElBQUksSUFBSSxDQUFDb0ssSUFBSTtRQUMxQjtRQUNBLENBQUNsSixPQUFPd0osUUFBUSxDQUFDO1lBQ2YsT0FBTyxJQUFJLENBQUNOLElBQUksQ0FBQ2xKLE9BQU93SixRQUFRLENBQUM7UUFDbkM7UUFDQUM7WUFDRSxPQUFPLElBQUksQ0FBQ1AsSUFBSSxDQUFDTyxNQUFNO1FBQ3pCO1FBQ0E5RDtZQUNFLE9BQU8sSUFBSSxDQUFDdUQsSUFBSSxDQUFDTyxNQUFNO1FBQ3pCO1FBQ0FDO1lBQ0UsT0FBTyxJQUFJNUssSUFBSSxJQUFJLENBQUNvSyxJQUFJLEVBQUVRLE9BQU87UUFDbkM7SUFDRjtJQUNBbkwsT0FBT29MLGdCQUFnQixDQUFDN0osS0FBSztRQUMzQm9KLE1BQU07WUFDSlUsWUFBWTtRQUNkO1FBQ0EzRSxNQUFNO1lBQ0oyRSxZQUFZO1FBQ2Q7UUFDQUwsUUFBUTtZQUNOSyxZQUFZO1FBQ2Q7SUFDRjtJQUNBckwsT0FBT3NMLElBQUksQ0FBQy9KO0lBQ1osT0FBT0E7QUFDVDtBQUVBLFNBQVNnSyxTQUFTSixPQUFPO0lBQ3ZCLE1BQU1ySSxNQUFNekQscURBQUtBLENBQUM7UUFDaEJzTCxNQUFNL0QsTUFBTUMsSUFBSSxDQUFDc0UsV0FBVyxFQUFFO1FBQzlCL0osS0FBSXpCLEdBQUc7WUFDTCxPQUFPLElBQUksQ0FBQ2dMLElBQUksQ0FBQ2pELElBQUksQ0FBQyxDQUFDckIsSUFBTUEsQ0FBQyxDQUFDLEVBQUUsS0FBSzFHO1FBQ3hDO1FBQ0E0QixLQUFJNUIsR0FBRyxFQUFFb0ksS0FBSztZQUNaLE1BQU15RCxTQUFTLElBQUksQ0FBQ2IsSUFBSSxDQUFDYyxJQUFJLENBQUMsQ0FBQ3BGLElBQU1BLENBQUMsQ0FBQyxFQUFFLEtBQUsxRztZQUM5QyxJQUFJNkwsUUFBUTtnQkFDVkEsTUFBTSxDQUFDLEVBQUUsR0FBR3pEO1lBQ2QsT0FBTztnQkFDTCxJQUFJLENBQUM0QyxJQUFJLENBQUNILElBQUksQ0FBQztvQkFBQzdLO29CQUFLb0k7aUJBQU07WUFDN0I7WUFDQSxPQUFPLElBQUk7UUFDYjtRQUNBNUMsS0FBSXhGLEdBQUc7WUFDTCxJQUFJZ0U7WUFDSixPQUFPLENBQUNBLEtBQUssSUFBSSxDQUFDZ0gsSUFBSSxDQUFDYyxJQUFJLENBQUMsQ0FBQ3BGLElBQU1BLENBQUMsQ0FBQyxFQUFFLEtBQUsxRyxJQUFHLEtBQU0sT0FBTyxLQUFLLElBQUlnRSxFQUFFLENBQUMsRUFBRTtRQUM1RTtRQUNBdEMsUUFBTzFCLEdBQUc7WUFDUixNQUFNaUYsUUFBUSxJQUFJLENBQUMrRixJQUFJLENBQUNlLFNBQVMsQ0FBQyxDQUFDckYsSUFBTUEsQ0FBQyxDQUFDLEVBQUUsS0FBSzFHO1lBQ2xELElBQUlpRixVQUFVLENBQUMsR0FBRztnQkFDaEIsT0FBTztZQUNUO1lBQ0EsSUFBSSxDQUFDK0YsSUFBSSxDQUFDSixNQUFNLENBQUMzRixPQUFPO1lBQ3hCLE9BQU87UUFDVDtRQUNBL0Q7WUFDRSxJQUFJLENBQUM4SixJQUFJLENBQUNKLE1BQU0sQ0FBQztRQUNuQjtRQUNBLElBQUk3RCxRQUFPO1lBQ1QsT0FBTyxJQUFJLENBQUNpRSxJQUFJLENBQUN4RSxNQUFNO1FBQ3pCO1FBQ0E2RTtZQUNFLE9BQU8sSUFBSXZLLElBQUksSUFBSSxDQUFDa0ssSUFBSTtRQUMxQjtRQUNBaEssU0FBUW1LLEVBQUU7WUFDUixJQUFJLENBQUNILElBQUksQ0FBQ2hLLE9BQU8sQ0FBQyxDQUFDMEY7Z0JBQ2pCeUUsR0FBR3pFLENBQUMsQ0FBQyxFQUFFLEVBQUVBLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSTtZQUNyQjtRQUNGO1FBQ0FlO1lBQ0UsT0FBTyxJQUFJLENBQUN1RCxJQUFJLENBQUM3SCxHQUFHLENBQUMsQ0FBQ3VELElBQU1BLENBQUMsQ0FBQyxFQUFFLEVBQUU2RSxNQUFNO1FBQzFDO1FBQ0FBO1lBQ0UsT0FBTyxJQUFJLENBQUNQLElBQUksQ0FBQzdILEdBQUcsQ0FBQyxDQUFDdUQsSUFBTUEsQ0FBQyxDQUFDLEVBQUUsRUFBRTZFLE1BQU07UUFDMUM7UUFDQUM7WUFDRSxPQUFPLElBQUkxSyxJQUFJLElBQUksQ0FBQ2tLLElBQUksRUFBRVEsT0FBTztRQUNuQztRQUNBLElBQUksQ0FBQzFKLE9BQU9zSixXQUFXLENBQUMsSUFBRztZQUN6QixPQUFPO1FBQ1Q7UUFDQSxDQUFDdEosT0FBT3dKLFFBQVEsQ0FBQztZQUNmLE9BQU8sSUFBSSxDQUFDRSxPQUFPO1FBQ3JCO0lBQ0Y7SUFDQW5MLE9BQU9vTCxnQkFBZ0IsQ0FBQ3RJLEtBQUs7UUFDM0I2SCxNQUFNO1lBQ0pVLFlBQVk7UUFDZDtRQUNBM0UsTUFBTTtZQUNKMkUsWUFBWTtRQUNkO1FBQ0FMLFFBQVE7WUFDTkssWUFBWTtRQUNkO0lBQ0Y7SUFDQXJMLE9BQU9zTCxJQUFJLENBQUN4STtJQUNaLE9BQU9BO0FBQ1Q7QUFFeU4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LXN0YXJ0ZXIta2l0Ly4vbm9kZV9tb2R1bGVzL3ZhbHRpby9lc20vdmFuaWxsYS91dGlscy5tanM/YzcxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdWJzY3JpYmUsIHNuYXBzaG90LCBwcm94eSwgZ2V0VmVyc2lvbiwgcmVmLCB1bnN0YWJsZV9idWlsZFByb3h5RnVuY3Rpb24gfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5cbmZ1bmN0aW9uIHN1YnNjcmliZUtleShwcm94eU9iamVjdCwga2V5LCBjYWxsYmFjaywgbm90aWZ5SW5TeW5jKSB7XG4gIGxldCBwcmV2VmFsdWUgPSBwcm94eU9iamVjdFtrZXldO1xuICByZXR1cm4gc3Vic2NyaWJlKFxuICAgIHByb3h5T2JqZWN0LFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IG5leHRWYWx1ZSA9IHByb3h5T2JqZWN0W2tleV07XG4gICAgICBpZiAoIU9iamVjdC5pcyhwcmV2VmFsdWUsIG5leHRWYWx1ZSkpIHtcbiAgICAgICAgY2FsbGJhY2socHJldlZhbHVlID0gbmV4dFZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG5vdGlmeUluU3luY1xuICApO1xufVxuXG5sZXQgY3VycmVudENsZWFudXBzO1xuZnVuY3Rpb24gd2F0Y2goY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgbGV0IGFsaXZlID0gdHJ1ZTtcbiAgY29uc3QgY2xlYW51cHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBzdWJzY3JpcHRpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICBpZiAoYWxpdmUpIHtcbiAgICAgIGFsaXZlID0gZmFsc2U7XG4gICAgICBjbGVhbnVwcy5mb3JFYWNoKChjbGVhbikgPT4gY2xlYW4oKSk7XG4gICAgICBjbGVhbnVwcy5jbGVhcigpO1xuICAgICAgc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCh1bnN1YnNjcmliZSkgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgICBzdWJzY3JpcHRpb25zLmNsZWFyKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZXZhbGlkYXRlID0gKCkgPT4ge1xuICAgIGlmICghYWxpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xlYW51cHMuZm9yRWFjaCgoY2xlYW4pID0+IGNsZWFuKCkpO1xuICAgIGNsZWFudXBzLmNsZWFyKCk7XG4gICAgY29uc3QgcHJveGllc1RvU3Vic2NyaWJlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBjb25zdCBwYXJlbnQgPSBjdXJyZW50Q2xlYW51cHM7XG4gICAgY3VycmVudENsZWFudXBzID0gY2xlYW51cHM7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNsZWFudXBSZXR1cm4gPSBjYWxsYmFjaygocHJveHlPYmplY3QpID0+IHtcbiAgICAgICAgcHJveGllc1RvU3Vic2NyaWJlLmFkZChwcm94eU9iamVjdCk7XG4gICAgICAgIHJldHVybiBwcm94eU9iamVjdDtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNsZWFudXBSZXR1cm4pIHtcbiAgICAgICAgY2xlYW51cHMuYWRkKGNsZWFudXBSZXR1cm4pO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBjdXJyZW50Q2xlYW51cHMgPSBwYXJlbnQ7XG4gICAgfVxuICAgIHN1YnNjcmlwdGlvbnMuZm9yRWFjaCgodW5zdWJzY3JpYmUsIHByb3h5T2JqZWN0KSA9PiB7XG4gICAgICBpZiAocHJveGllc1RvU3Vic2NyaWJlLmhhcyhwcm94eU9iamVjdCkpIHtcbiAgICAgICAgcHJveGllc1RvU3Vic2NyaWJlLmRlbGV0ZShwcm94eU9iamVjdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdWJzY3JpcHRpb25zLmRlbGV0ZShwcm94eU9iamVjdCk7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJveGllc1RvU3Vic2NyaWJlLmZvckVhY2goKHByb3h5T2JqZWN0KSA9PiB7XG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHN1YnNjcmliZShwcm94eU9iamVjdCwgcmV2YWxpZGF0ZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5zeW5jKTtcbiAgICAgIHN1YnNjcmlwdGlvbnMuc2V0KHByb3h5T2JqZWN0LCB1bnN1YnNjcmliZSk7XG4gICAgfSk7XG4gIH07XG4gIGlmIChjdXJyZW50Q2xlYW51cHMpIHtcbiAgICBjdXJyZW50Q2xlYW51cHMuYWRkKGNsZWFudXApO1xuICB9XG4gIHJldmFsaWRhdGUoKTtcbiAgcmV0dXJuIGNsZWFudXA7XG59XG5cbmNvbnN0IERFVlRPT0xTID0gU3ltYm9sKCk7XG5mdW5jdGlvbiBkZXZ0b29scyhwcm94eU9iamVjdCwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcInN0cmluZyBuYW1lIG9wdGlvbiBpcyBkZXByZWNhdGVkLCB1c2UgeyBuYW1lIH0uIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvdmFsdGlvL3B1bGwvNDAwXCJcbiAgICApO1xuICAgIG9wdGlvbnMgPSB7IG5hbWU6IG9wdGlvbnMgfTtcbiAgfVxuICBjb25zdCB7IGVuYWJsZWQsIG5hbWUgPSBcIlwiLCAuLi5yZXN0IH0gPSBvcHRpb25zIHx8IHt9O1xuICBsZXQgZXh0ZW5zaW9uO1xuICB0cnkge1xuICAgIGV4dGVuc2lvbiA9IChlbmFibGVkICE9IG51bGwgPyBlbmFibGVkIDogKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9fO1xuICB9IGNhdGNoIHtcbiAgfVxuICBpZiAoIWV4dGVuc2lvbikge1xuICAgIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIiAmJiBlbmFibGVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJbV2FybmluZ10gUGxlYXNlIGluc3RhbGwvZW5hYmxlIFJlZHV4IGRldnRvb2xzIGV4dGVuc2lvblwiKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBpc1RpbWVUcmF2ZWxpbmcgPSBmYWxzZTtcbiAgY29uc3QgZGV2dG9vbHMyID0gZXh0ZW5zaW9uLmNvbm5lY3QoeyBuYW1lLCAuLi5yZXN0IH0pO1xuICBjb25zdCB1bnN1YjEgPSBzdWJzY3JpYmUocHJveHlPYmplY3QsIChvcHMpID0+IHtcbiAgICBjb25zdCBhY3Rpb24gPSBvcHMuZmlsdGVyKChbXywgcGF0aF0pID0+IHBhdGhbMF0gIT09IERFVlRPT0xTKS5tYXAoKFtvcCwgcGF0aF0pID0+IGAke29wfToke3BhdGgubWFwKFN0cmluZykuam9pbihcIi5cIil9YCkuam9pbihcIiwgXCIpO1xuICAgIGlmICghYWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1RpbWVUcmF2ZWxpbmcpIHtcbiAgICAgIGlzVGltZVRyYXZlbGluZyA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzbmFwV2l0aG91dERldnRvb2xzID0gT2JqZWN0LmFzc2lnbih7fSwgc25hcHNob3QocHJveHlPYmplY3QpKTtcbiAgICAgIGRlbGV0ZSBzbmFwV2l0aG91dERldnRvb2xzW0RFVlRPT0xTXTtcbiAgICAgIGRldnRvb2xzMi5zZW5kKFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogYWN0aW9uLFxuICAgICAgICAgIHVwZGF0ZWRBdDogKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0xvY2FsZVN0cmluZygpXG4gICAgICAgIH0sXG4gICAgICAgIHNuYXBXaXRob3V0RGV2dG9vbHNcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgdW5zdWIyID0gZGV2dG9vbHMyLnN1YnNjcmliZSgobWVzc2FnZSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiQUNUSU9OXCIgJiYgbWVzc2FnZS5wYXlsb2FkKSB7XG4gICAgICB0cnkge1xuICAgICAgICBPYmplY3QuYXNzaWduKHByb3h5T2JqZWN0LCBKU09OLnBhcnNlKG1lc3NhZ2UucGF5bG9hZCkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwicGxlYXNlIGRpc3BhdGNoIGEgc2VyaWFsaXphYmxlIHZhbHVlIHRoYXQgSlNPTi5wYXJzZSgpIGFuZCBwcm94eSgpIHN1cHBvcnRcXG5cIixcbiAgICAgICAgICBlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiRElTUEFUQ0hcIiAmJiBtZXNzYWdlLnN0YXRlKSB7XG4gICAgICBpZiAoKChfYSA9IG1lc3NhZ2UucGF5bG9hZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnR5cGUpID09PSBcIkpVTVBfVE9fQUNUSU9OXCIgfHwgKChfYiA9IG1lc3NhZ2UucGF5bG9hZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnR5cGUpID09PSBcIkpVTVBfVE9fU1RBVEVcIikge1xuICAgICAgICBpc1RpbWVUcmF2ZWxpbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IEpTT04ucGFyc2UobWVzc2FnZS5zdGF0ZSk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ocHJveHlPYmplY3QsIHN0YXRlKTtcbiAgICAgIH1cbiAgICAgIHByb3h5T2JqZWN0W0RFVlRPT0xTXSA9IG1lc3NhZ2U7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiRElTUEFUQ0hcIiAmJiAoKF9jID0gbWVzc2FnZS5wYXlsb2FkKSA9PSBudWxsID8gdm9pZCAwIDogX2MudHlwZSkgPT09IFwiQ09NTUlUXCIpIHtcbiAgICAgIGRldnRvb2xzMi5pbml0KHNuYXBzaG90KHByb3h5T2JqZWN0KSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiRElTUEFUQ0hcIiAmJiAoKF9kID0gbWVzc2FnZS5wYXlsb2FkKSA9PSBudWxsID8gdm9pZCAwIDogX2QudHlwZSkgPT09IFwiSU1QT1JUX1NUQVRFXCIpIHtcbiAgICAgIGNvbnN0IGFjdGlvbnMgPSAoX2UgPSBtZXNzYWdlLnBheWxvYWQubmV4dExpZnRlZFN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogX2UuYWN0aW9uc0J5SWQ7XG4gICAgICBjb25zdCBjb21wdXRlZFN0YXRlcyA9ICgoX2YgPSBtZXNzYWdlLnBheWxvYWQubmV4dExpZnRlZFN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogX2YuY29tcHV0ZWRTdGF0ZXMpIHx8IFtdO1xuICAgICAgaXNUaW1lVHJhdmVsaW5nID0gdHJ1ZTtcbiAgICAgIGNvbXB1dGVkU3RhdGVzLmZvckVhY2goKHsgc3RhdGUgfSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gYWN0aW9uc1tpbmRleF0gfHwgXCJObyBhY3Rpb24gZm91bmRcIjtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihwcm94eU9iamVjdCwgc3RhdGUpO1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICBkZXZ0b29sczIuaW5pdChzbmFwc2hvdChwcm94eU9iamVjdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldnRvb2xzMi5zZW5kKGFjdGlvbiwgc25hcHNob3QocHJveHlPYmplY3QpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgZGV2dG9vbHMyLmluaXQoc25hcHNob3QocHJveHlPYmplY3QpKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICB1bnN1YjEoKTtcbiAgICB1bnN1YjIgPT0gbnVsbCA/IHZvaWQgMCA6IHVuc3ViMigpO1xuICB9O1xufVxuXG5jb25zdCBzb3VyY2VPYmplY3RNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IGRlcml2ZWRPYmplY3RNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG1hcmtQZW5kaW5nID0gKHNvdXJjZU9iamVjdCwgY2FsbGJhY2spID0+IHtcbiAgY29uc3Qgc291cmNlT2JqZWN0RW50cnkgPSBzb3VyY2VPYmplY3RNYXAuZ2V0KHNvdXJjZU9iamVjdCk7XG4gIGlmIChzb3VyY2VPYmplY3RFbnRyeSkge1xuICAgIHNvdXJjZU9iamVjdEVudHJ5WzBdLmZvckVhY2goKHN1YnNjcmlwdGlvbikgPT4ge1xuICAgICAgY29uc3QgeyBkOiBkZXJpdmVkT2JqZWN0IH0gPSBzdWJzY3JpcHRpb247XG4gICAgICBpZiAoc291cmNlT2JqZWN0ICE9PSBkZXJpdmVkT2JqZWN0KSB7XG4gICAgICAgIG1hcmtQZW5kaW5nKGRlcml2ZWRPYmplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICAgICsrc291cmNlT2JqZWN0RW50cnlbMl07XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBzb3VyY2VPYmplY3RFbnRyeVszXS5hZGQoY2FsbGJhY2spO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IGNoZWNrUGVuZGluZyA9IChzb3VyY2VPYmplY3QsIGNhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IHNvdXJjZU9iamVjdEVudHJ5ID0gc291cmNlT2JqZWN0TWFwLmdldChzb3VyY2VPYmplY3QpO1xuICBpZiAoc291cmNlT2JqZWN0RW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHNvdXJjZU9iamVjdEVudHJ5WzJdKSB7XG4gICAgc291cmNlT2JqZWN0RW50cnlbM10uYWRkKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuY29uc3QgdW5tYXJrUGVuZGluZyA9IChzb3VyY2VPYmplY3QpID0+IHtcbiAgY29uc3Qgc291cmNlT2JqZWN0RW50cnkgPSBzb3VyY2VPYmplY3RNYXAuZ2V0KHNvdXJjZU9iamVjdCk7XG4gIGlmIChzb3VyY2VPYmplY3RFbnRyeSkge1xuICAgIC0tc291cmNlT2JqZWN0RW50cnlbMl07XG4gICAgaWYgKCFzb3VyY2VPYmplY3RFbnRyeVsyXSkge1xuICAgICAgc291cmNlT2JqZWN0RW50cnlbM10uZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKCkpO1xuICAgICAgc291cmNlT2JqZWN0RW50cnlbM10uY2xlYXIoKTtcbiAgICB9XG4gICAgc291cmNlT2JqZWN0RW50cnlbMF0uZm9yRWFjaCgoc3Vic2NyaXB0aW9uKSA9PiB7XG4gICAgICBjb25zdCB7IGQ6IGRlcml2ZWRPYmplY3QgfSA9IHN1YnNjcmlwdGlvbjtcbiAgICAgIGlmIChzb3VyY2VPYmplY3QgIT09IGRlcml2ZWRPYmplY3QpIHtcbiAgICAgICAgdW5tYXJrUGVuZGluZyhkZXJpdmVkT2JqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbmNvbnN0IGFkZFN1YnNjcmlwdGlvbiA9IChzdWJzY3JpcHRpb24pID0+IHtcbiAgY29uc3QgeyBzOiBzb3VyY2VPYmplY3QsIGQ6IGRlcml2ZWRPYmplY3QgfSA9IHN1YnNjcmlwdGlvbjtcbiAgbGV0IGRlcml2ZWRPYmplY3RFbnRyeSA9IGRlcml2ZWRPYmplY3RNYXAuZ2V0KGRlcml2ZWRPYmplY3QpO1xuICBpZiAoIWRlcml2ZWRPYmplY3RFbnRyeSkge1xuICAgIGRlcml2ZWRPYmplY3RFbnRyeSA9IFsvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXTtcbiAgICBkZXJpdmVkT2JqZWN0TWFwLnNldChzdWJzY3JpcHRpb24uZCwgZGVyaXZlZE9iamVjdEVudHJ5KTtcbiAgfVxuICBkZXJpdmVkT2JqZWN0RW50cnlbMF0uYWRkKHN1YnNjcmlwdGlvbik7XG4gIGxldCBzb3VyY2VPYmplY3RFbnRyeSA9IHNvdXJjZU9iamVjdE1hcC5nZXQoc291cmNlT2JqZWN0KTtcbiAgaWYgKCFzb3VyY2VPYmplY3RFbnRyeSkge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc3Vic2NyaWJlKFxuICAgICAgc291cmNlT2JqZWN0LFxuICAgICAgKG9wcykgPT4ge1xuICAgICAgICBzdWJzY3JpcHRpb25zLmZvckVhY2goKHN1YnNjcmlwdGlvbjIpID0+IHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBkOiBkZXJpdmVkT2JqZWN0MixcbiAgICAgICAgICAgIGM6IGNhbGxiYWNrLFxuICAgICAgICAgICAgbjogbm90aWZ5SW5TeW5jLFxuICAgICAgICAgICAgaTogaWdub3JlS2V5c1xuICAgICAgICAgIH0gPSBzdWJzY3JpcHRpb24yO1xuICAgICAgICAgIGlmIChzb3VyY2VPYmplY3QgPT09IGRlcml2ZWRPYmplY3QyICYmIG9wcy5ldmVyeShcbiAgICAgICAgICAgIChvcCkgPT4gb3BbMV0ubGVuZ3RoID09PSAxICYmIGlnbm9yZUtleXMuaW5jbHVkZXMob3BbMV1bMF0pXG4gICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uMi5wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcmtQZW5kaW5nKHNvdXJjZU9iamVjdCwgY2FsbGJhY2spO1xuICAgICAgICAgIGlmIChub3RpZnlJblN5bmMpIHtcbiAgICAgICAgICAgIHVubWFya1BlbmRpbmcoc291cmNlT2JqZWN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uMi5wID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBzdWJzY3JpcHRpb24yLnA7XG4gICAgICAgICAgICAgIHVubWFya1BlbmRpbmcoc291cmNlT2JqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgICk7XG4gICAgc291cmNlT2JqZWN0RW50cnkgPSBbc3Vic2NyaXB0aW9ucywgdW5zdWJzY3JpYmUsIDAsIC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCldO1xuICAgIHNvdXJjZU9iamVjdE1hcC5zZXQoc291cmNlT2JqZWN0LCBzb3VyY2VPYmplY3RFbnRyeSk7XG4gIH1cbiAgc291cmNlT2JqZWN0RW50cnlbMF0uYWRkKHN1YnNjcmlwdGlvbik7XG59O1xuY29uc3QgcmVtb3ZlU3Vic2NyaXB0aW9uID0gKHN1YnNjcmlwdGlvbikgPT4ge1xuICBjb25zdCB7IHM6IHNvdXJjZU9iamVjdCwgZDogZGVyaXZlZE9iamVjdCB9ID0gc3Vic2NyaXB0aW9uO1xuICBjb25zdCBkZXJpdmVkT2JqZWN0RW50cnkgPSBkZXJpdmVkT2JqZWN0TWFwLmdldChkZXJpdmVkT2JqZWN0KTtcbiAgZGVyaXZlZE9iamVjdEVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiBkZXJpdmVkT2JqZWN0RW50cnlbMF0uZGVsZXRlKHN1YnNjcmlwdGlvbik7XG4gIGlmICgoZGVyaXZlZE9iamVjdEVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiBkZXJpdmVkT2JqZWN0RW50cnlbMF0uc2l6ZSkgPT09IDApIHtcbiAgICBkZXJpdmVkT2JqZWN0TWFwLmRlbGV0ZShkZXJpdmVkT2JqZWN0KTtcbiAgfVxuICBjb25zdCBzb3VyY2VPYmplY3RFbnRyeSA9IHNvdXJjZU9iamVjdE1hcC5nZXQoc291cmNlT2JqZWN0KTtcbiAgaWYgKHNvdXJjZU9iamVjdEVudHJ5KSB7XG4gICAgY29uc3QgW3N1YnNjcmlwdGlvbnMsIHVuc3Vic2NyaWJlXSA9IHNvdXJjZU9iamVjdEVudHJ5O1xuICAgIHN1YnNjcmlwdGlvbnMuZGVsZXRlKHN1YnNjcmlwdGlvbik7XG4gICAgaWYgKCFzdWJzY3JpcHRpb25zLnNpemUpIHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBzb3VyY2VPYmplY3RNYXAuZGVsZXRlKHNvdXJjZU9iamVjdCk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgbGlzdFN1YnNjcmlwdGlvbnMgPSAoZGVyaXZlZE9iamVjdCkgPT4ge1xuICBjb25zdCBkZXJpdmVkT2JqZWN0RW50cnkgPSBkZXJpdmVkT2JqZWN0TWFwLmdldChkZXJpdmVkT2JqZWN0KTtcbiAgaWYgKGRlcml2ZWRPYmplY3RFbnRyeSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGRlcml2ZWRPYmplY3RFbnRyeVswXSk7XG4gIH1cbiAgcmV0dXJuIFtdO1xufTtcbmNvbnN0IHVuc3RhYmxlX2Rlcml2ZVN1YnNjcmlwdGlvbnMgPSB7XG4gIGFkZDogYWRkU3Vic2NyaXB0aW9uLFxuICByZW1vdmU6IHJlbW92ZVN1YnNjcmlwdGlvbixcbiAgbGlzdDogbGlzdFN1YnNjcmlwdGlvbnNcbn07XG5mdW5jdGlvbiBkZXJpdmUoZGVyaXZlZEZucywgb3B0aW9ucykge1xuICBjb25zdCBwcm94eU9iamVjdCA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnByb3h5KSB8fCBwcm94eSh7fSk7XG4gIGNvbnN0IG5vdGlmeUluU3luYyA9ICEhKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuc3luYyk7XG4gIGNvbnN0IGRlcml2ZWRLZXlzID0gT2JqZWN0LmtleXMoZGVyaXZlZEZucyk7XG4gIGRlcml2ZWRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3h5T2JqZWN0LCBrZXkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvYmplY3QgcHJvcGVydHkgYWxyZWFkeSBkZWZpbmVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBmbiA9IGRlcml2ZWRGbnNba2V5XTtcbiAgICBsZXQgbGFzdERlcGVuZGVuY2llcyA9IG51bGw7XG4gICAgY29uc3QgZXZhbHVhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAobGFzdERlcGVuZGVuY2llcykge1xuICAgICAgICBpZiAoQXJyYXkuZnJvbShsYXN0RGVwZW5kZW5jaWVzKS5tYXAoKFtwXSkgPT4gY2hlY2tQZW5kaW5nKHAsIGV2YWx1YXRlKSkuc29tZSgoaXNQZW5kaW5nKSA9PiBpc1BlbmRpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5mcm9tKGxhc3REZXBlbmRlbmNpZXMpLmV2ZXJ5KFxuICAgICAgICAgIChbcCwgZW50cnldKSA9PiBnZXRWZXJzaW9uKHApID09PSBlbnRyeS52XG4gICAgICAgICkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlcGVuZGVuY2llcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICBjb25zdCBnZXQgPSAocCkgPT4ge1xuICAgICAgICBkZXBlbmRlbmNpZXMuc2V0KHAsIHsgdjogZ2V0VmVyc2lvbihwKSB9KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9O1xuICAgICAgY29uc3QgdmFsdWUgPSBmbihnZXQpO1xuICAgICAgY29uc3Qgc3Vic2NyaWJlVG9EZXBlbmRlbmNpZXMgPSAoKSA9PiB7XG4gICAgICAgIGRlcGVuZGVuY2llcy5mb3JFYWNoKChlbnRyeSwgcCkgPT4ge1xuICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICBjb25zdCBsYXN0U3Vic2NyaXB0aW9uID0gKF9hID0gbGFzdERlcGVuZGVuY2llcyA9PSBudWxsID8gdm9pZCAwIDogbGFzdERlcGVuZGVuY2llcy5nZXQocCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zO1xuICAgICAgICAgIGlmIChsYXN0U3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBlbnRyeS5zID0gbGFzdFN1YnNjcmlwdGlvbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0ge1xuICAgICAgICAgICAgICBzOiBwLFxuICAgICAgICAgICAgICAvLyBzb3VyY2VPYmplY3RcbiAgICAgICAgICAgICAgZDogcHJveHlPYmplY3QsXG4gICAgICAgICAgICAgIC8vIGRlcml2ZWRPYmplY3RcbiAgICAgICAgICAgICAgazoga2V5LFxuICAgICAgICAgICAgICAvLyBkZXJpdmVkIGtleVxuICAgICAgICAgICAgICBjOiBldmFsdWF0ZSxcbiAgICAgICAgICAgICAgLy8gY2FsbGJhY2tcbiAgICAgICAgICAgICAgbjogbm90aWZ5SW5TeW5jLFxuICAgICAgICAgICAgICBpOiBkZXJpdmVkS2V5c1xuICAgICAgICAgICAgICAvLyBpZ25vcmluZ0tleXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGVudHJ5LnMgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGFzdERlcGVuZGVuY2llcyA9PSBudWxsID8gdm9pZCAwIDogbGFzdERlcGVuZGVuY2llcy5mb3JFYWNoKChlbnRyeSwgcCkgPT4ge1xuICAgICAgICAgIGlmICghZGVwZW5kZW5jaWVzLmhhcyhwKSAmJiBlbnRyeS5zKSB7XG4gICAgICAgICAgICByZW1vdmVTdWJzY3JpcHRpb24oZW50cnkucyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGFzdERlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcztcbiAgICAgIH07XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHZhbHVlLmZpbmFsbHkoc3Vic2NyaWJlVG9EZXBlbmRlbmNpZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3Vic2NyaWJlVG9EZXBlbmRlbmNpZXMoKTtcbiAgICAgIH1cbiAgICAgIHByb3h5T2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICAgIGV2YWx1YXRlKCk7XG4gIH0pO1xuICByZXR1cm4gcHJveHlPYmplY3Q7XG59XG5mdW5jdGlvbiB1bmRlcml2ZShwcm94eU9iamVjdCwgb3B0aW9ucykge1xuICBjb25zdCBrZXlzVG9EZWxldGUgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5kZWxldGUpID8gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSA6IG51bGw7XG4gIGxpc3RTdWJzY3JpcHRpb25zKHByb3h5T2JqZWN0KS5mb3JFYWNoKChzdWJzY3JpcHRpb24pID0+IHtcbiAgICBjb25zdCB7IGs6IGtleSB9ID0gc3Vic2NyaXB0aW9uO1xuICAgIGlmICghKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMua2V5cykgfHwgb3B0aW9ucy5rZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHJlbW92ZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgaWYgKGtleXNUb0RlbGV0ZSkge1xuICAgICAgICBrZXlzVG9EZWxldGUuYWRkKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKGtleXNUb0RlbGV0ZSkge1xuICAgIGtleXNUb0RlbGV0ZS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGRlbGV0ZSBwcm94eU9iamVjdFtrZXldO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZENvbXB1dGVkX0RFUFJFQ0FURUQocHJveHlPYmplY3QsIGNvbXB1dGVkRm5zX0ZBS0UsIHRhcmdldE9iamVjdCA9IHByb3h5T2JqZWN0KSB7XG4gIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiYWRkQ29tcHV0ZWQgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIGNvbnNpZGVyIHVzaW5nIGBkZXJpdmVgLiBGYWxsaW5nIGJhY2sgdG8gZW11bGF0aW9uIHdpdGggZGVyaXZlLiBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3ZhbHRpby9wdWxsLzIwMVwiXG4gICAgKTtcbiAgfVxuICBjb25zdCBkZXJpdmVkRm5zID0ge307XG4gIE9iamVjdC5rZXlzKGNvbXB1dGVkRm5zX0ZBS0UpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGRlcml2ZWRGbnNba2V5XSA9IChnZXQpID0+IGNvbXB1dGVkRm5zX0ZBS0Vba2V5XShnZXQocHJveHlPYmplY3QpKTtcbiAgfSk7XG4gIHJldHVybiBkZXJpdmUoZGVyaXZlZEZucywgeyBwcm94eTogdGFyZ2V0T2JqZWN0IH0pO1xufVxuXG5mdW5jdGlvbiBwcm94eVdpdGhDb21wdXRlZF9ERVBSRUNBVEVEKGluaXRpYWxPYmplY3QsIGNvbXB1dGVkRm5zKSB7XG4gIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdwcm94eVdpdGhDb21wdXRlZCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgZm9sbG93IFwiQ29tcHV0ZWQgUHJvcGVydGllc1wiIGd1aWRlIGluIGRvY3MuJ1xuICAgICk7XG4gIH1cbiAgT2JqZWN0LmtleXMoY29tcHV0ZWRGbnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGluaXRpYWxPYmplY3QsIGtleSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9iamVjdCBwcm9wZXJ0eSBhbHJlYWR5IGRlZmluZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkRm4gPSBjb21wdXRlZEZuc1trZXldO1xuICAgIGNvbnN0IHsgZ2V0LCBzZXQgfSA9IHR5cGVvZiBjb21wdXRlZEZuID09PSBcImZ1bmN0aW9uXCIgPyB7IGdldDogY29tcHV0ZWRGbiB9IDogY29tcHV0ZWRGbjtcbiAgICBjb25zdCBkZXNjID0ge307XG4gICAgZGVzYy5nZXQgPSAoKSA9PiBnZXQoc25hcHNob3QocHJveHlPYmplY3QpKTtcbiAgICBpZiAoc2V0KSB7XG4gICAgICBkZXNjLnNldCA9IChuZXdWYWx1ZSkgPT4gc2V0KHByb3h5T2JqZWN0LCBuZXdWYWx1ZSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbml0aWFsT2JqZWN0LCBrZXksIGRlc2MpO1xuICB9KTtcbiAgY29uc3QgcHJveHlPYmplY3QgPSBwcm94eShpbml0aWFsT2JqZWN0KTtcbiAgcmV0dXJuIHByb3h5T2JqZWN0O1xufVxuXG5jb25zdCBpc09iamVjdCA9ICh4KSA9PiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsO1xubGV0IHJlZlNldDtcbmNvbnN0IGRlZXBDbG9uZSA9IChvYmopID0+IHtcbiAgaWYgKCFyZWZTZXQpIHtcbiAgICByZWZTZXQgPSB1bnN0YWJsZV9idWlsZFByb3h5RnVuY3Rpb24oKVsyXTtcbiAgfVxuICBpZiAoIWlzT2JqZWN0KG9iaikgfHwgcmVmU2V0LmhhcyhvYmopKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICBjb25zdCBiYXNlT2JqZWN0ID0gQXJyYXkuaXNBcnJheShvYmopID8gW10gOiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKTtcbiAgUmVmbGVjdC5vd25LZXlzKG9iaikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgYmFzZU9iamVjdFtrZXldID0gZGVlcENsb25lKG9ialtrZXldKTtcbiAgfSk7XG4gIHJldHVybiBiYXNlT2JqZWN0O1xufTtcbmZ1bmN0aW9uIHByb3h5V2l0aEhpc3RvcnkoaW5pdGlhbFZhbHVlLCBza2lwU3Vic2NyaWJlID0gZmFsc2UpIHtcbiAgY29uc3QgcHJveHlPYmplY3QgPSBwcm94eSh7XG4gICAgdmFsdWU6IGluaXRpYWxWYWx1ZSxcbiAgICBoaXN0b3J5OiByZWYoe1xuICAgICAgd2lwOiB2b2lkIDAsXG4gICAgICAvLyB0byBhdm9pZCBpbmZpbml0ZSBsb29wXG4gICAgICBzbmFwc2hvdHM6IFtdLFxuICAgICAgaW5kZXg6IC0xXG4gICAgfSksXG4gICAgY2xvbmU6IGRlZXBDbG9uZSxcbiAgICBjYW5VbmRvOiAoKSA9PiBwcm94eU9iamVjdC5oaXN0b3J5LmluZGV4ID4gMCxcbiAgICB1bmRvOiAoKSA9PiB7XG4gICAgICBpZiAocHJveHlPYmplY3QuY2FuVW5kbygpKSB7XG4gICAgICAgIHByb3h5T2JqZWN0LnZhbHVlID0gcHJveHlPYmplY3QuaGlzdG9yeS53aXAgPSBwcm94eU9iamVjdC5jbG9uZShcbiAgICAgICAgICBwcm94eU9iamVjdC5oaXN0b3J5LnNuYXBzaG90c1stLXByb3h5T2JqZWN0Lmhpc3RvcnkuaW5kZXhdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5SZWRvOiAoKSA9PiBwcm94eU9iamVjdC5oaXN0b3J5LmluZGV4IDwgcHJveHlPYmplY3QuaGlzdG9yeS5zbmFwc2hvdHMubGVuZ3RoIC0gMSxcbiAgICByZWRvOiAoKSA9PiB7XG4gICAgICBpZiAocHJveHlPYmplY3QuY2FuUmVkbygpKSB7XG4gICAgICAgIHByb3h5T2JqZWN0LnZhbHVlID0gcHJveHlPYmplY3QuaGlzdG9yeS53aXAgPSBwcm94eU9iamVjdC5jbG9uZShcbiAgICAgICAgICBwcm94eU9iamVjdC5oaXN0b3J5LnNuYXBzaG90c1srK3Byb3h5T2JqZWN0Lmhpc3RvcnkuaW5kZXhdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzYXZlSGlzdG9yeTogKCkgPT4ge1xuICAgICAgcHJveHlPYmplY3QuaGlzdG9yeS5zbmFwc2hvdHMuc3BsaWNlKHByb3h5T2JqZWN0Lmhpc3RvcnkuaW5kZXggKyAxKTtcbiAgICAgIHByb3h5T2JqZWN0Lmhpc3Rvcnkuc25hcHNob3RzLnB1c2goc25hcHNob3QocHJveHlPYmplY3QpLnZhbHVlKTtcbiAgICAgICsrcHJveHlPYmplY3QuaGlzdG9yeS5pbmRleDtcbiAgICB9LFxuICAgIHN1YnNjcmliZTogKCkgPT4gc3Vic2NyaWJlKHByb3h5T2JqZWN0LCAob3BzKSA9PiB7XG4gICAgICBpZiAob3BzLmV2ZXJ5KFxuICAgICAgICAob3ApID0+IG9wWzFdWzBdID09PSBcInZhbHVlXCIgJiYgKG9wWzBdICE9PSBcInNldFwiIHx8IG9wWzJdICE9PSBwcm94eU9iamVjdC5oaXN0b3J5LndpcClcbiAgICAgICkpIHtcbiAgICAgICAgcHJveHlPYmplY3Quc2F2ZUhpc3RvcnkoKTtcbiAgICAgIH1cbiAgICB9KVxuICB9KTtcbiAgcHJveHlPYmplY3Quc2F2ZUhpc3RvcnkoKTtcbiAgaWYgKCFza2lwU3Vic2NyaWJlKSB7XG4gICAgcHJveHlPYmplY3Quc3Vic2NyaWJlKCk7XG4gIH1cbiAgcmV0dXJuIHByb3h5T2JqZWN0O1xufVxuXG5mdW5jdGlvbiBwcm94eVNldChpbml0aWFsVmFsdWVzKSB7XG4gIGNvbnN0IHNldCA9IHByb3h5KHtcbiAgICBkYXRhOiBBcnJheS5mcm9tKG5ldyBTZXQoaW5pdGlhbFZhbHVlcykpLFxuICAgIGhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XG4gICAgfSxcbiAgICBhZGQodmFsdWUpIHtcbiAgICAgIGxldCBoYXNQcm94eSA9IGZhbHNlO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBoYXNQcm94eSA9IHRoaXMuZGF0YS5pbmRleE9mKHByb3h5KHZhbHVlKSkgIT09IC0xO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZGF0YS5pbmRleE9mKHZhbHVlKSA9PT0gLTEgJiYgIWhhc1Byb3h5KSB7XG4gICAgICAgIHRoaXMuZGF0YS5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZGVsZXRlKHZhbHVlKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuZGF0YS5pbmRleE9mKHZhbHVlKTtcbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5kYXRhLnNwbGljZShpbmRleCwgMSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGNsZWFyKCkge1xuICAgICAgdGhpcy5kYXRhLnNwbGljZSgwKTtcbiAgICB9LFxuICAgIGdldCBzaXplKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgfSxcbiAgICBmb3JFYWNoKGNiKSB7XG4gICAgICB0aGlzLmRhdGEuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgICAgY2IodmFsdWUsIHZhbHVlLCB0aGlzKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgICAgcmV0dXJuIFwiU2V0XCI7XG4gICAgfSxcbiAgICB0b0pTT04oKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh0aGlzLmRhdGEpO1xuICAgIH0sXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRhW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICB9LFxuICAgIHZhbHVlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGEudmFsdWVzKCk7XG4gICAgfSxcbiAgICBrZXlzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YS52YWx1ZXMoKTtcbiAgICB9LFxuICAgIGVudHJpZXMoKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh0aGlzLmRhdGEpLmVudHJpZXMoKTtcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzZXQsIHtcbiAgICBkYXRhOiB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgc2l6ZToge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICB9LFxuICAgIHRvSlNPTjoge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICB9XG4gIH0pO1xuICBPYmplY3Quc2VhbChzZXQpO1xuICByZXR1cm4gc2V0O1xufVxuXG5mdW5jdGlvbiBwcm94eU1hcChlbnRyaWVzKSB7XG4gIGNvbnN0IG1hcCA9IHByb3h5KHtcbiAgICBkYXRhOiBBcnJheS5mcm9tKGVudHJpZXMgfHwgW10pLFxuICAgIGhhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGEuc29tZSgocCkgPT4gcFswXSA9PT0ga2V5KTtcbiAgICB9LFxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICBjb25zdCByZWNvcmQgPSB0aGlzLmRhdGEuZmluZCgocCkgPT4gcFswXSA9PT0ga2V5KTtcbiAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgcmVjb3JkWzFdID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBnZXQoa2V5KSB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gKF9hID0gdGhpcy5kYXRhLmZpbmQoKHApID0+IHBbMF0gPT09IGtleSkpID09IG51bGwgPyB2b2lkIDAgOiBfYVsxXTtcbiAgICB9LFxuICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5kYXRhLmZpbmRJbmRleCgocCkgPT4gcFswXSA9PT0ga2V5KTtcbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5kYXRhLnNwbGljZShpbmRleCwgMSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGNsZWFyKCkge1xuICAgICAgdGhpcy5kYXRhLnNwbGljZSgwKTtcbiAgICB9LFxuICAgIGdldCBzaXplKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgfSxcbiAgICB0b0pTT04oKSB7XG4gICAgICByZXR1cm4gbmV3IE1hcCh0aGlzLmRhdGEpO1xuICAgIH0sXG4gICAgZm9yRWFjaChjYikge1xuICAgICAgdGhpcy5kYXRhLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgY2IocFsxXSwgcFswXSwgdGhpcyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGtleXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRhLm1hcCgocCkgPT4gcFswXSkudmFsdWVzKCk7XG4gICAgfSxcbiAgICB2YWx1ZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRhLm1hcCgocCkgPT4gcFsxXSkudmFsdWVzKCk7XG4gICAgfSxcbiAgICBlbnRyaWVzKCkge1xuICAgICAgcmV0dXJuIG5ldyBNYXAodGhpcy5kYXRhKS5lbnRyaWVzKCk7XG4gICAgfSxcbiAgICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgICByZXR1cm4gXCJNYXBcIjtcbiAgICB9LFxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW50cmllcygpO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1hcCwge1xuICAgIGRhdGE6IHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgfSxcbiAgICBzaXplOiB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgdG9KU09OOiB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5zZWFsKG1hcCk7XG4gIHJldHVybiBtYXA7XG59XG5cbmV4cG9ydCB7IGFkZENvbXB1dGVkX0RFUFJFQ0FURUQgYXMgYWRkQ29tcHV0ZWQsIGRlcml2ZSwgZGV2dG9vbHMsIHByb3h5TWFwLCBwcm94eVNldCwgcHJveHlXaXRoQ29tcHV0ZWRfREVQUkVDQVRFRCBhcyBwcm94eVdpdGhDb21wdXRlZCwgcHJveHlXaXRoSGlzdG9yeSwgc3Vic2NyaWJlS2V5LCB1bmRlcml2ZSwgdW5zdGFibGVfZGVyaXZlU3Vic2NyaXB0aW9ucywgd2F0Y2ggfTtcbiJdLCJuYW1lcyI6WyJzdWJzY3JpYmUiLCJzbmFwc2hvdCIsInByb3h5IiwiZ2V0VmVyc2lvbiIsInJlZiIsInVuc3RhYmxlX2J1aWxkUHJveHlGdW5jdGlvbiIsInN1YnNjcmliZUtleSIsInByb3h5T2JqZWN0Iiwia2V5IiwiY2FsbGJhY2siLCJub3RpZnlJblN5bmMiLCJwcmV2VmFsdWUiLCJuZXh0VmFsdWUiLCJPYmplY3QiLCJpcyIsImN1cnJlbnRDbGVhbnVwcyIsIndhdGNoIiwib3B0aW9ucyIsImFsaXZlIiwiY2xlYW51cHMiLCJTZXQiLCJzdWJzY3JpcHRpb25zIiwiTWFwIiwiY2xlYW51cCIsImZvckVhY2giLCJjbGVhbiIsImNsZWFyIiwidW5zdWJzY3JpYmUiLCJyZXZhbGlkYXRlIiwicHJveGllc1RvU3Vic2NyaWJlIiwicGFyZW50IiwiY2xlYW51cFJldHVybiIsImFkZCIsImhhcyIsImRlbGV0ZSIsInN5bmMiLCJzZXQiLCJERVZUT09MUyIsIlN5bWJvbCIsImRldnRvb2xzIiwiY29uc29sZSIsIndhcm4iLCJuYW1lIiwiZW5hYmxlZCIsInJlc3QiLCJleHRlbnNpb24iLCJlbnYiLCJNT0RFIiwid2luZG93IiwiX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fXyIsImlzVGltZVRyYXZlbGluZyIsImRldnRvb2xzMiIsImNvbm5lY3QiLCJ1bnN1YjEiLCJvcHMiLCJhY3Rpb24iLCJmaWx0ZXIiLCJfIiwicGF0aCIsIm1hcCIsIm9wIiwiU3RyaW5nIiwiam9pbiIsInNuYXBXaXRob3V0RGV2dG9vbHMiLCJhc3NpZ24iLCJzZW5kIiwidHlwZSIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsInVuc3ViMiIsIm1lc3NhZ2UiLCJfYSIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJwYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwiZSIsImVycm9yIiwic3RhdGUiLCJpbml0IiwiYWN0aW9ucyIsIm5leHRMaWZ0ZWRTdGF0ZSIsImFjdGlvbnNCeUlkIiwiY29tcHV0ZWRTdGF0ZXMiLCJpbmRleCIsInNvdXJjZU9iamVjdE1hcCIsIldlYWtNYXAiLCJkZXJpdmVkT2JqZWN0TWFwIiwibWFya1BlbmRpbmciLCJzb3VyY2VPYmplY3QiLCJzb3VyY2VPYmplY3RFbnRyeSIsImdldCIsInN1YnNjcmlwdGlvbiIsImQiLCJkZXJpdmVkT2JqZWN0IiwiY2hlY2tQZW5kaW5nIiwidW5tYXJrUGVuZGluZyIsImFkZFN1YnNjcmlwdGlvbiIsInMiLCJkZXJpdmVkT2JqZWN0RW50cnkiLCJzdWJzY3JpcHRpb24yIiwiZGVyaXZlZE9iamVjdDIiLCJjIiwibiIsImkiLCJpZ25vcmVLZXlzIiwiZXZlcnkiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJzaXplIiwibGlzdFN1YnNjcmlwdGlvbnMiLCJBcnJheSIsImZyb20iLCJ1bnN0YWJsZV9kZXJpdmVTdWJzY3JpcHRpb25zIiwicmVtb3ZlIiwibGlzdCIsImRlcml2ZSIsImRlcml2ZWRGbnMiLCJkZXJpdmVkS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJFcnJvciIsImZuIiwibGFzdERlcGVuZGVuY2llcyIsImV2YWx1YXRlIiwic29tZSIsImlzUGVuZGluZyIsImVudHJ5IiwidiIsImRlcGVuZGVuY2llcyIsInZhbHVlIiwic3Vic2NyaWJlVG9EZXBlbmRlbmNpZXMiLCJsYXN0U3Vic2NyaXB0aW9uIiwiayIsImZpbmFsbHkiLCJ1bmRlcml2ZSIsImtleXNUb0RlbGV0ZSIsImFkZENvbXB1dGVkX0RFUFJFQ0FURUQiLCJjb21wdXRlZEZuc19GQUtFIiwidGFyZ2V0T2JqZWN0IiwicHJveHlXaXRoQ29tcHV0ZWRfREVQUkVDQVRFRCIsImluaXRpYWxPYmplY3QiLCJjb21wdXRlZEZucyIsImNvbXB1dGVkRm4iLCJkZXNjIiwibmV3VmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImlzT2JqZWN0IiwieCIsInJlZlNldCIsImRlZXBDbG9uZSIsIm9iaiIsImJhc2VPYmplY3QiLCJpc0FycmF5IiwiY3JlYXRlIiwiZ2V0UHJvdG90eXBlT2YiLCJSZWZsZWN0Iiwib3duS2V5cyIsInByb3h5V2l0aEhpc3RvcnkiLCJpbml0aWFsVmFsdWUiLCJza2lwU3Vic2NyaWJlIiwiaGlzdG9yeSIsIndpcCIsInNuYXBzaG90cyIsImNsb25lIiwiY2FuVW5kbyIsInVuZG8iLCJjYW5SZWRvIiwicmVkbyIsInNhdmVIaXN0b3J5Iiwic3BsaWNlIiwicHVzaCIsInByb3h5U2V0IiwiaW5pdGlhbFZhbHVlcyIsImRhdGEiLCJpbmRleE9mIiwiaGFzUHJveHkiLCJjYiIsInRvU3RyaW5nVGFnIiwidG9KU09OIiwiaXRlcmF0b3IiLCJ2YWx1ZXMiLCJlbnRyaWVzIiwiZGVmaW5lUHJvcGVydGllcyIsImVudW1lcmFibGUiLCJzZWFsIiwicHJveHlNYXAiLCJyZWNvcmQiLCJmaW5kIiwiZmluZEluZGV4IiwiYWRkQ29tcHV0ZWQiLCJwcm94eVdpdGhDb21wdXRlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/valtio/esm/vanilla/utils.mjs\n");

/***/ })

};
;